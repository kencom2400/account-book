# Issue完了報告

## 3. Issue完了報告

```
╔══════════════════════════════════════════════════════════════╗
║  🚨 Issue作業完了時は必ずGitHub Issueに報告コメント 🚨      ║
║                                                              ║
║  タイミング:                                                 ║
║  1. commit完了後（push前でも可）                             ║
║  2. 長時間作業（4時間超）の場合は途中報告                    ║
║                                                              ║
║  方法: gh issue comment コマンドで自動投稿                   ║
╚══════════════════════════════════════════════════════════════╝
```

### トリガー条件

以下のいずれかが満たされた時、自動的に報告コメントを作成：

1. **commit完了時**: 最終コミット完了後（push前でも可）
2. **作業完了を明示的に宣言した時**: 「作業完了」「完了しました」等のキーワード
3. **長時間作業の途中**: 4時間経過時

**推奨フロー**:

```
1. 作業完了
   ↓
2. git commit（すべての変更をコミット）
   ↓
3. Issue報告コメント投稿 ⭐ ここで報告
   ↓
4. git push
   ↓
5. PR作成
```

### 報告対象のIssueタイプ

すべてのIssueタイプで報告を行う：

- `feature`, `task`, `bug`, `enhancement`, `process`, `documentation`

### 除外対象

**Issueが存在しない場合のみ除外**

### 報告コマンドの実行

#### 基本フォーマット

```bash
# コメント本文をヒアドキュメントで変数に格納
BODY=$(cat <<'EOF'
## 🎉 作業完了報告

Issue #<ISSUE_NUMBER>「<Issueタイトル>」の作業が完了しました。

---

## 📊 実施した作業

### <作業項目1>

**内容**:
- <詳細内容>

**成果物**:
- <ファイル1>
- <ファイル2>

**コミット**: `<コミットメッセージ>`

---

## 📂 成果物

### 新規作成ファイル（合計Xファイル）

1. **<カテゴリ1>** (Xファイル)
   - `path/to/file1`
   - `path/to/file2`

### 更新ファイル（合計Xファイル）

1. **<ファイル名>**
   - `path/to/file`
   - <変更内容の概要>

---

## ✅ 達成した目標

### Issueの受入基準

- [x] <受入基準1>
- [x] <受入基準2>

### 期待される効果

✅ **<効果1>**
- <詳細>

---

## 🚀 次のステップ

### 1. レビュー依頼
- [ ] <レビュー項目1>

### 2. マージ後
- [ ] <実施事項1>

---

## 📊 作業時間

- <作業項目1>: 約X時間
- **合計**: 約X時間

---

## 🔗 関連リンク

- **PR**: <PR URL または「作成予定」>
- **ブランチ**: `feature/issue-XXX-description`
- **コミット数**: X

---

以上で、Issue #<ISSUE_NUMBER>の作業が完了しました。

**次のアクション**:
- [ ] git push
- [ ] PR作成
- [ ] レビュー依頼
EOF
)

# GitHub CLIでコメント投稿
gh issue comment <ISSUE_NUMBER> --body "$BODY"
```

### 必須項目

1. **実施した作業**: 作業項目ごとに内容・成果物・コミットを記載
2. **成果物サマリ**: 新規作成ファイルと更新ファイルをカテゴリ別に整理
3. **達成した目標**: 受入基準チェックと期待される効果
4. **次のステップ**: レビュー依頼とマージ後のタスク
5. **メタ情報**: 作業時間と関連リンク

### チェックリスト

報告前に以下を確認：

- [ ] Issue番号が正しい
- [ ] 実施した作業が具体的に記載されている
- [ ] 成果物（ファイル）が列挙されている
- [ ] 受入基準の達成状況が明記されている
- [ ] 次のステップ（レビュー依頼等）が明記されている
- [ ] PRへのリンクが含まれている
- [ ] コミット情報が含まれている
