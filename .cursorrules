# Cursor Rules for Account Book Project

## 言語設定
- 常に日本語で応答してください

## Pull Request管理

### Gemini Code Assistからの提案対応
Pull Requestを作成した後は、以下の手順を自動的に実行してください：

1. **Gemini Code Assistのレビューを確認**
   - PR作成後、Gemini Code Assistからのコメントを確認する
   - `gh pr view <PR番号> --comments` でコメントを取得
   - `gh api repos/<owner>/<repo>/pulls/<PR番号>/comments` でインラインコメントを取得

2. **提案への対応**
   - Gemini Code Assistから提案があった場合は、その内容を確認し対応する
   - 提案が妥当な場合は、コードを修正してコミット・プッシュする
   - 提案内容をコミットメッセージに記載する（例：`refactor: Geminiの提案に従ってfind_pnpm関数を改善`）

3. **対応完了の報告**
   - 修正が完了したら、該当のコメントに返信する
   - `gh pr comment <PR番号> --body "提案に従って修正しました"`

### コミットメッセージのフォーマット
```
<type>: <subject>

<body>

<footer>
```

#### Type
- `feat`: 新機能
- `fix`: バグ修正
- `docs`: ドキュメントのみの変更
- `style`: コードの意味に影響しない変更（空白、フォーマットなど）
- `refactor`: リファクタリング
- `test`: テストの追加や修正
- `chore`: ビルドプロセスやツールの変更

## コーディング規約

### TypeScript/JavaScript
- 厳格な型チェックを使用する
- ESLintとPrettierの設定に従う
- 関数とクラスには適切なJSDocコメントを記載する

### シェルスクリプト
- Bashの標準的なベストプラクティスに従う
- エラーハンドリングを適切に行う
- 変数のクォートを適切に使用する

## プロジェクト構造
- モノレポ構成（pnpm workspace）
- `apps/` - アプリケーション（frontend, backend）
- `libs/` - 共有ライブラリ（types, utils）
- `docs/` - ドキュメント
- `scripts/` - ビルドスクリプトやツール

## 開発フロー
1. issueからブランチを作成（`fix/issue-<番号>-<説明>` または `feat/issue-<番号>-<説明>`）
2. 変更を実装
3. テストを実行
4. コミット（pre-commitフックが自動実行）
5. プッシュしてPull Request作成
6. Gemini Code Assistのレビューを確認して対応
7. マージ

## 注意事項
- コミット時には`--no-verify`を使用せず、pre-commitフックを実行する
- 機密情報（APIキー、パスワードなど）をコミットしない
- ドキュメントは常に最新の状態に保つ

