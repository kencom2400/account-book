# GraphQL Issueä½œæˆã‚¹ã‚¯ãƒªãƒ—ãƒˆ

## æ¦‚è¦

GraphQL APIã‚’ä½¿ã£ãŸçµ±åˆçš„ãªIssueç™»éŒ²ã‚¹ã‚¯ãƒªãƒ—ãƒˆã€‚`gh issue create`ã‚³ãƒãƒ³ãƒ‰ã®å¤±æ•—å•é¡Œã‚’è§£æ±ºã—ã€Issueä½œæˆã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¿½åŠ ã€ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¨­å®šã‚’ä¸€æ‹¬ã§å®Ÿè¡Œã—ã¾ã™ã€‚

## èƒŒæ™¯

### å¾“æ¥ã®å•é¡Œ

`gh issue create` ã‚³ãƒãƒ³ãƒ‰ã«ã¯ä»¥ä¸‹ã®å•é¡ŒãŒã‚ã‚Šã¾ã—ãŸï¼š

- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¸ã®è¿½åŠ ãŒå¤±æ•—ã™ã‚‹ï¼ˆ`--add-project` ã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
- ãƒ©ãƒ™ãƒ«ã®è¿½åŠ ãŒä¸å®‰å®š
- ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—å‡¦ç†ãŒè¤‡é›‘ã§ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã‚„ã™ã„
- é•·ã„æœ¬æ–‡ã®å ´åˆã«ç‰¹ã«å¤±æ•—ã—ã‚„ã™ã„

### è§£æ±ºç­–

GraphQL APIã‚’ç›´æ¥ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€ã“ã‚Œã‚‰ã®å•é¡Œã‚’è§£æ±ºã—ã¾ã—ãŸï¼š

- âœ… Issueä½œæˆã¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¿½åŠ ã‚’ç¢ºå®Ÿã«å®Ÿè¡Œ
- âœ… ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã®è‡ªå‹•è¨­å®šï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: ğŸ“ To Doï¼‰
- âœ… ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®å¼·åŒ–
- âœ… å¯¾è©±å‹ã¨ãƒãƒƒãƒãƒ¢ãƒ¼ãƒ‰ã®ä¸¡å¯¾å¿œ

## ä½¿ç”¨æ–¹æ³•

### 1. å¯¾è©±å‹ãƒ¢ãƒ¼ãƒ‰

è³ªå•å½¢å¼ã§å…¥åŠ›ã—ã¾ã™ï¼š

```bash
./scripts/github/issues/create-issue-graphql.sh
```

å…¥åŠ›é …ç›®ï¼š

1. **ã‚¿ã‚¤ãƒˆãƒ«**: Issueã®ã‚¿ã‚¤ãƒˆãƒ«
2. **æœ¬æ–‡ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹**: ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰èª­ã¿è¾¼ã‚€å ´åˆã¯ãƒ‘ã‚¹ã‚’å…¥åŠ›ã€ç›´æ¥å…¥åŠ›ã™ã‚‹å ´åˆã¯ç©ºEnter
3. **æœ¬æ–‡**: ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã—ãªã„å ´åˆã¯ç›´æ¥å…¥åŠ›ï¼ˆCtrl+Dã§çµ‚äº†ï¼‰
4. **ãƒ©ãƒ™ãƒ«**: ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šã§æŒ‡å®šï¼ˆä¾‹: `bug,testing`ï¼‰
5. **å„ªå…ˆåº¦**: `low`, `medium`, `high`, `critical` ã®ã„ãšã‚Œã‹ï¼ˆç©ºEnter=ãªã—ï¼‰
6. **ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ `ğŸ“ To Do`ï¼ˆç©ºEnter=ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰

### 2. ãƒãƒƒãƒãƒ¢ãƒ¼ãƒ‰ï¼ˆã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³å¼•æ•°ï¼‰

ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³å¼•æ•°ã§ç›´æ¥æŒ‡å®šã—ã¾ã™ï¼š

```bash
./scripts/github/issues/create-issue-graphql.sh \
  --title "[bug] E2Eãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ™‚ã®ã‚¨ãƒ©ãƒ¼" \
  --body "## æ¦‚è¦

E2Eãƒ†ã‚¹ãƒˆãŒå¤±æ•—ã—ã¾ã™ã€‚

## å†ç¾æ‰‹é †

1. ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ
2. ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿ" \
  --labels "bug,testing" \
  --priority "high"
```

### 3. ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰æœ¬æ–‡ã‚’èª­ã¿è¾¼ã¿

é•·ã„æœ¬æ–‡ã¯ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰èª­ã¿è¾¼ã‚€ã¨ä¾¿åˆ©ã§ã™ï¼š

```bash
./scripts/github/issues/create-issue-graphql.sh \
  --title "[feature] æ–°æ©Ÿèƒ½ã®å®Ÿè£…" \
  --body-file ./scripts/github/issues/templates/feature-template.md \
  --labels "feature,backend" \
  --priority "medium"
```

## ã‚ªãƒ—ã‚·ãƒ§ãƒ³ä¸€è¦§

| ã‚ªãƒ—ã‚·ãƒ§ãƒ³    | èª¬æ˜                       | å¿…é ˆ | ä¾‹                                  |
| ------------- | -------------------------- | ---- | ----------------------------------- |
| `--title`     | Issueã®ã‚¿ã‚¤ãƒˆãƒ«            | âœ…   | `"[bug] ã‚¨ãƒ©ãƒ¼ä¿®æ­£"`                |
| `--body`      | Issueã®æœ¬æ–‡                |      | `"## æ¦‚è¦\n\nè©³ç´°..."`              |
| `--body-file` | æœ¬æ–‡ã‚’ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰èª­ã¿è¾¼ã¿ |      | `./issue.md`                        |
| `--labels`    | ãƒ©ãƒ™ãƒ«ï¼ˆã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šï¼‰     |      | `"bug,testing"`                     |
| `--priority`  | å„ªå…ˆåº¦                     |      | `low`, `medium`, `high`, `critical` |
| `--status`    | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹                 |      | `ğŸ“ To Do`, `ğŸš§ In Progress`, ä»–    |
| `--help`      | ãƒ˜ãƒ«ãƒ—ã‚’è¡¨ç¤º               |      |                                     |

**æ³¨æ„**: `--body` ã¨ `--body-file` ã¯åŒæ™‚ã«æŒ‡å®šã§ãã¾ã›ã‚“ã€‚

## ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ä¸€è¦§

ä»¥ä¸‹ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’æŒ‡å®šã§ãã¾ã™ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: `ğŸ“ To Do`ï¼‰ï¼š

- `ğŸ“ To Do` - æ¬¡ã«å–ã‚Šçµ„ã‚€ã‚¿ã‚¹ã‚¯
- `ğŸš§ In Progress` - ä½œæ¥­ä¸­
- `âœ… Done` - å®Œäº†
- `ğŸ“‹ Backlog` - ãƒãƒƒã‚¯ãƒ­ã‚°
- `ğŸ¯ Epic` - Epic
- `ğŸ‘€ Review` - ãƒ¬ãƒ“ãƒ¥ãƒ¼å¾…ã¡

## ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

Issueæœ¬æ–‡ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ç”¨æ„ã—ã¦ã„ã¾ã™ï¼š

### Bugå ±å‘Š

```bash
./scripts/github/issues/create-issue-graphql.sh \
  --title "[bug] ã‚¿ã‚¤ãƒˆãƒ«" \
  --body-file ./scripts/github/issues/templates/bug-template.md \
  --labels "bug" \
  --priority "high"
```

### æ–°æ©Ÿèƒ½

```bash
./scripts/github/issues/create-issue-graphql.sh \
  --title "[feature] ã‚¿ã‚¤ãƒˆãƒ«" \
  --body-file ./scripts/github/issues/templates/feature-template.md \
  --labels "feature,backend" \
  --priority "medium"
```

### æ”¹å–„

```bash
./scripts/github/issues/create-issue-graphql.sh \
  --title "[enhancement] ã‚¿ã‚¤ãƒˆãƒ«" \
  --body-file ./scripts/github/issues/templates/enhancement-template.md \
  --labels "enhancement" \
  --priority "low"
```

## ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ç·¨é›†ã§ãã¾ã™ï¼š

```bash
# ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ã‚³ãƒ”ãƒ¼
cp ./scripts/github/issues/templates/bug-template.md /tmp/my-bug.md

# ç·¨é›†
vim /tmp/my-bug.md

# Issueã‚’ä½œæˆ
./scripts/github/issues/create-issue-graphql.sh \
  --title "[bug] ç§ã®ãƒã‚°" \
  --body-file /tmp/my-bug.md \
  --labels "bug" \
  --priority "high"
```

## å®Ÿè¡Œä¾‹

### ä¾‹1: å¯¾è©±å‹ã§ç°¡å˜ãªBugå ±å‘Š

```bash
$ ./scripts/github/issues/create-issue-graphql.sh
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  ğŸ“ å¯¾è©±å‹Issueã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ã‚¿ã‚¤ãƒˆãƒ«: [bug] ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã§ã‚¨ãƒ©ãƒ¼
æœ¬æ–‡ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹ (ç›´æ¥å…¥åŠ›ã®å ´åˆã¯ç©ºEnter):
æœ¬æ–‡ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ (Ctrl+D ã§çµ‚äº†):
## æ¦‚è¦

ãƒ­ã‚°ã‚¤ãƒ³ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã™ã€‚
^D
ãƒ©ãƒ™ãƒ« (ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Š, ä¾‹: bug,testing): bug,frontend
å„ªå…ˆåº¦ (low/medium/high/critical, ç©ºEnter=ãªã—): high
ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: ğŸ“ To Do, ç©ºEnter=ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ):

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  ğŸš€ Issueä½œæˆä¸­...
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

...
```

### ä¾‹2: ãƒãƒƒãƒãƒ¢ãƒ¼ãƒ‰ã§è©³ç´°ãªFeatureææ¡ˆ

```bash
./scripts/github/issues/create-issue-graphql.sh \
  --title "[feature] ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œ" \
  --body-file ./scripts/github/issues/templates/feature-template.md \
  --labels "feature,frontend,enhancement" \
  --priority "medium" \
  --status "ğŸ“‹ Backlog"
```

### ä¾‹3: è¤‡æ•°è¡Œã®æœ¬æ–‡ã‚’ç›´æ¥æŒ‡å®š

```bash
./scripts/github/issues/create-issue-graphql.sh \
  --title "[enhancement] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ”¹å–„" \
  --body "## æ¦‚è¦

ãƒ‡ãƒ¼ã‚¿å–å¾—å‡¦ç†ã‚’æœ€é©åŒ–ã—ã¾ã™ã€‚

## æ”¹å–„å†…å®¹

- ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®å°å…¥
- ã‚¯ã‚¨ãƒªã®æœ€é©åŒ–
- é…å»¶èª­ã¿è¾¼ã¿ã®å®Ÿè£…" \
  --labels "enhancement,backend" \
  --priority "low"
```

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚¨ãƒ©ãƒ¼: ãƒªãƒã‚¸ãƒˆãƒªIDã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ

**åŸå› **: GitHub CLIã®èªè¨¼ãŒæ­£ã—ããªã„ã€ã¾ãŸã¯ãƒªãƒã‚¸ãƒˆãƒªåãŒé–“é•ã£ã¦ã„ã‚‹

**è§£æ±ºæ–¹æ³•**:

```bash
# GitHub CLIã§å†èªè¨¼
gh auth login

# ãƒªãƒã‚¸ãƒˆãƒªæƒ…å ±ã‚’ç¢ºèª
gh repo view
```

### ã‚¨ãƒ©ãƒ¼: ãƒ©ãƒ™ãƒ«ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“

**åŸå› **: æŒ‡å®šã—ãŸãƒ©ãƒ™ãƒ«ãŒãƒªãƒã‚¸ãƒˆãƒªã«å­˜åœ¨ã—ãªã„

**è§£æ±ºæ–¹æ³•**:

```bash
# ãƒ©ãƒ™ãƒ«ä¸€è¦§ã‚’ç¢ºèª
gh label list

# ã¾ãŸã¯ã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆå†…ã®ãƒ©ãƒ™ãƒ«ã‚’ç¢ºèª
cat .github/labels.yml
```

### ã‚¨ãƒ©ãƒ¼: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¸ã®è¿½åŠ ã«å¤±æ•—ã—ã¾ã—ãŸ

**åŸå› **: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆIDãŒé–“é•ã£ã¦ã„ã‚‹ã€ã¾ãŸã¯æ¨©é™ãŒãªã„

**è§£æ±ºæ–¹æ³•**:

```bash
# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæƒ…å ±ã‚’ç¢ºèª
gh project view 1 --owner @me

# ã‚¹ã‚¯ãƒªãƒ—ãƒˆå†…ã®PROJECT_IDã‚’ç¢ºèª
grep "PROJECT_ID=" ./scripts/github/issues/create-issue-graphql.sh
```

## æŠ€è¡“è©³ç´°

### GraphQL APIä½¿ç”¨ç®‡æ‰€

1. **ãƒªãƒã‚¸ãƒˆãƒªIDå–å¾—**

```graphql
query {
  repository(owner: "kencom2400", name: "account-book") {
    id
  }
}
```

2. **Issueä½œæˆ**

```graphql
mutation {
  createIssue(input: {
    repositoryId: "..."
    title: "..."
    body: "..."
    labelIds: [...]
  }) {
    issue {
      id
      number
      url
    }
  }
}
```

3. **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«è¿½åŠ **

```graphql
mutation {
  addProjectV2ItemById(input: { projectId: "...", contentId: "..." }) {
    item {
      id
    }
  }
}
```

4. **ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¨­å®š**

```graphql
mutation {
  updateProjectV2ItemFieldValue(
    input: {
      projectId: "..."
      itemId: "..."
      fieldId: "..."
      value: { singleSelectOptionId: "..." }
    }
  ) {
    projectV2Item {
      id
    }
  }
}
```

## æ—¢å­˜ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¨ã®é•ã„

### æ—¢å­˜: `create-issue.sh`ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ï¼‰

- âœ… YAML/JSONãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰èª­ã¿è¾¼ã¿
- âœ… ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç®¡ç†ãŒç°¡å˜
- âŒ ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã§ç›´æ¥æŒ‡å®šã§ããªã„
- âŒ å¯¾è©±å‹ãƒ¢ãƒ¼ãƒ‰ãªã—

### æ–°è¦: `create-issue-graphql.sh`ï¼ˆçµ±åˆå‹ï¼‰

- âœ… ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã§ç›´æ¥æŒ‡å®šå¯èƒ½
- âœ… å¯¾è©±å‹ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œ
- âœ… ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰èª­ã¿è¾¼ã¿ã‚‚å¯èƒ½
- âœ… ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å¼·åŒ–
- âœ… GraphQL APIçµ±åˆ

**ä½¿ã„åˆ†ã‘**:

- **å¤§é‡ã®Issueã‚’ä¸€æ‹¬ä½œæˆ**: `create-issue.sh`ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ï¼‰
- **1ã¤ãšã¤Issueã‚’ä½œæˆ**: `create-issue-graphql.sh`ï¼ˆçµ±åˆå‹ï¼‰
- **è¤‡é›‘ãªæœ¬æ–‡**: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½¿ç”¨ï¼ˆã©ã¡ã‚‰ã§ã‚‚å¯ï¼‰

## é–¢é€£ãƒªãƒ³ã‚¯

- GitHub CLI: https://cli.github.com/
- GitHub GraphQL API: https://docs.github.com/en/graphql
- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆIDè¨­å®š: `.cursor/rules/04-github-integration.md`
