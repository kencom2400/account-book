{
  "title": "[bug] GitHub Issueのステータス変更が失敗する",
  "labels": [
    "bug",
    "infrastructure",
    "priority: high",
    "size: M"
  ],
  "body": "## 概要\n`scripts/github/projects/set-issue-in-progress.sh` などのステータス変更スクリプトが機能しなくなり、Issueのステータスを変更できない状態です。\n\n## 現象\n### 発生している問題\n以下のコマンドを実行してもステータス変更が失敗する：\n```bash\nscripts/github/projects/set-issue-in-progress.sh 284\n```\n\n### 期待される動作\n- Issue #284のステータスが「🚧 In Progress」に変更される\n- コマンドが正常に完了し、成功メッセージが表示される\n\n### 実際の動作\n- ステータス変更が失敗する（詳細なエラーメッセージは要調査）\n\n## 再現手順\n1. フィーチャーブランチでIssue作業を開始\n2. `scripts/github/projects/set-issue-in-progress.sh <issue番号>` を実行\n3. ステータス変更が失敗\n\n## 発生環境\n- OS: macOS\n- 発生頻度: 常に\n- 影響を受けるスクリプト:\n  - `scripts/github/projects/set-issue-in-progress.sh`\n  - `scripts/github/projects/update-issue-status.sh`（内部で呼ばれている）\n  - その他のステータス変更スクリプト\n\n## 原因調査\n### 推定される原因\n1. **GitHub API仕様変更**: GitHub Projects V2のAPIが変更され、既存のコマンドが動作しなくなった可能性\n2. **gh CLIバージョン不整合**: `gh` コマンドのバージョンアップにより、`project item-edit` コマンドの動作が変わった可能性\n3. **プロジェクトID/フィールドIDの変更**: GitHub Projects V2のID体系が変更された可能性\n4. **権限・認証の問題**: GitHub PAT（Personal Access Token）の権限が不足している可能性\n\n### 影響範囲\n- すべてのGitHub Issueステータス変更操作が影響を受ける\n- ワークフロー全体に支障をきたす重大な問題\n\n## 修正方針\n### 調査タスク\n1. **エラーの詳細確認**\n   - スクリプトを実行して具体的なエラーメッセージを取得\n   - `--debug` フラグなどでverboseモードで実行\n\n2. **gh CLIバージョン確認**\n   ```bash\n   gh --version\n   ```\n\n3. **GitHub Projects V2 API動作確認**\n   - `gh project list` が正常に動作するか\n   - `gh project item-list` が正常に動作するか\n   - `gh project field-list` が正常に動作するか\n\n4. **代替手段の調査**\n   - GraphQL APIを直接使用する方法\n   - 最新のgh CLIドキュメントを参照\n\n### 修正内容\n調査結果に基づいて以下のいずれかを実施：\n1. **スクリプト修正**: API変更に合わせてコマンドを更新\n2. **gh CLIアップデート**: 最新バージョンへのアップデート手順を追加\n3. **GraphQL API移行**: より安定したGraphQL APIベースの実装に移行\n4. **エラーハンドリング強化**: デバッグしやすいエラーメッセージの追加\n\n## 作業チェックリスト\n- [ ] エラーメッセージの詳細取得とログ保存\n- [ ] gh CLIバージョン確認\n- [ ] GitHub Projects V2 API動作確認\n- [ ] 原因の特定\n- [ ] 修正コードの実装\n- [ ] 全ステータス変更スクリプトでテスト\n  - [ ] `set-issue-in-progress.sh`\n  - [ ] `set-issue-todo.sh`\n  - [ ] `set-issue-done.sh`\n  - [ ] `update-issue-status.sh`\n- [ ] 既存Issueでの動作確認\n- [ ] README/ドキュメント更新\n\n## 受入基準\n- [ ] ステータス変更スクリプトが正常に動作する\n- [ ] 具体的なエラーメッセージが表示される（エラー時）\n- [ ] すべてのステータス（To Do, In Progress, Done, Backlog）への変更が可能\n- [ ] 既存機能に影響がない\n- [ ] ドキュメントが更新されている\n\n## 優先度の理由\nこのバグはIssue管理ワークフロー全体に影響を与える重大な問題です。\n- ステータス変更ができないと、プロジェクト管理が困難になる\n- 開発フローの中断を引き起こす\n- 他の作業がブロックされる可能性がある\n\n## 見積もり工数\n- 調査: 0.5日\n- 修正: 0.5〜1日\n- テスト: 0.5日\n合計: 1.5〜2日\n\n## 関連Issue・PR\n- 関連する Issue: #284（この問題が最初に発覚したIssue）\n\n## 備考\n- 緊急性が高いため、優先的に対応する必要がある\n- 修正後は全スクリプトの動作確認を実施すること\n- 同様の問題が他のGitHub連携スクリプトで発生していないか確認すること"
}

