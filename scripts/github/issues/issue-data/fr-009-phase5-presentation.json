{
  "title": "[FEATURE] FR-009 Phase 5: Presentationå±¤å®Ÿè£…ï¼ˆAPIï¼‰",
  "body": "## ğŸ“‹ æ¦‚è¦\n\nFR-009è©³ç´°è²»ç›®åˆ†é¡æ©Ÿèƒ½ã®Phase 5ã¨ã—ã¦ã€Presentationå±¤ã®APIå®Ÿè£…ã‚’è¡Œã„ã¾ã™ã€‚\n\n## ğŸ¯ é–¢é€£Issue\n\n- è¦ªIssue: #30 (FR-009: è©³ç´°è²»ç›®åˆ†é¡æ©Ÿèƒ½)\n- å‰Phase: #294 (Phase 4: Applicationå±¤å®Ÿè£…)\n\n## ğŸ“Š å®Ÿè£…å†…å®¹\n\n### Controller\n\n#### SubcategoryController\n\n**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**:\n\n##### 1. GET `/api/subcategories`\n\n**ç›®çš„**: å…¨ã‚µãƒ–ã‚«ãƒ†ã‚´ãƒªä¸€è¦§ã‚’å–å¾—\n\n**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:\n```json\n{\n  \"subcategories\": [\n    {\n      \"id\": \"uuid\",\n      \"categoryType\": \"EXPENSE\",\n      \"name\": \"é£Ÿè²»\",\n      \"parentId\": null,\n      \"displayOrder\": 1,\n      \"icon\": \"ğŸ´\",\n      \"color\": \"#FF6B6B\",\n      \"isDefault\": false,\n      \"isActive\": true,\n      \"children\": [\n        {\n          \"id\": \"uuid\",\n          \"categoryType\": \"EXPENSE\",\n          \"name\": \"é£Ÿæ–™å“\",\n          \"parentId\": \"parent-uuid\",\n          \"displayOrder\": 1,\n          \"icon\": \"ğŸ›’\",\n          \"color\": \"#FF8787\",\n          \"isDefault\": false,\n          \"isActive\": true,\n          \"children\": []\n        }\n      ]\n    }\n  ]\n}\n```\n\n##### 2. GET `/api/subcategories/:categoryType`\n\n**ç›®çš„**: ã‚«ãƒ†ã‚´ãƒªã‚¿ã‚¤ãƒ—åˆ¥ã«ã‚µãƒ–ã‚«ãƒ†ã‚´ãƒªã‚’å–å¾—\n\n**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:\n- `categoryType`: INCOME, EXPENSE, TRANSFER, REPAYMENT, INVESTMENT\n\n**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**: ä¸Šè¨˜ã¨åŒæ§˜ã®éšå±¤æ§‹é€ \n\n##### 3. POST `/api/subcategories/classify`\n\n**ç›®çš„**: å–å¼•èª¬æ˜ã‹ã‚‰è‡ªå‹•åˆ†é¡\n\n**ãƒªã‚¯ã‚¨ã‚¹ãƒˆ**:\n```json\n{\n  \"description\": \"ã‚¹ã‚¿ãƒ¼ãƒãƒƒã‚¯ã‚¹ ã‚³ãƒ¼ãƒ’ãƒ¼\",\n  \"amount\": 500,\n  \"mainCategory\": \"EXPENSE\",\n  \"transactionDate\": \"2025-11-24T10:00:00Z\"\n}\n```\n\n**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:\n```json\n{\n  \"subcategoryId\": \"uuid\",\n  \"subcategoryName\": \"ã‚«ãƒ•ã‚§ãƒ»å–«èŒ¶åº—\",\n  \"confidence\": 0.95,\n  \"reason\": \"MERCHANT_MATCH\",\n  \"merchantId\": \"starbucks-uuid\",\n  \"merchantName\": \"ã‚¹ã‚¿ãƒ¼ãƒãƒƒã‚¯ã‚¹\",\n  \"shouldConfirm\": false\n}\n```\n\n##### 4. PATCH `/api/transactions/:id/subcategory`\n\n**ç›®çš„**: å–å¼•ã®ã‚µãƒ–ã‚«ãƒ†ã‚´ãƒªã‚’æ‰‹å‹•æ›´æ–°\n\n**ãƒªã‚¯ã‚¨ã‚¹ãƒˆ**:\n```json\n{\n  \"subcategoryId\": \"uuid\"\n}\n```\n\n**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**:\n```json\n{\n  \"transaction\": {\n    \"id\": \"uuid\",\n    \"subcategoryId\": \"uuid\",\n    \"subcategoryName\": \"ã‚«ãƒ•ã‚§ãƒ»å–«èŒ¶åº—\",\n    \"classificationConfidence\": 1.0,\n    \"classificationReason\": \"MANUAL\",\n    \"confirmedAt\": \"2025-11-24T10:00:00Z\"\n  }\n}\n```\n\n### DTOs\n\n- **SubcategoryResponseDto**: ã‚µãƒ–ã‚«ãƒ†ã‚´ãƒªãƒ¬ã‚¹ãƒãƒ³ã‚¹\n- **SubcategoryListResponseDto**: ã‚µãƒ–ã‚«ãƒ†ã‚´ãƒªä¸€è¦§ãƒ¬ã‚¹ãƒãƒ³ã‚¹ï¼ˆéšå±¤æ§‹é€ ï¼‰\n- **ClassificationRequestDto**: åˆ†é¡ãƒªã‚¯ã‚¨ã‚¹ãƒˆ\n- **ClassificationResponseDto**: åˆ†é¡çµæœãƒ¬ã‚¹ãƒãƒ³ã‚¹\n- **UpdateSubcategoryRequestDto**: ã‚µãƒ–ã‚«ãƒ†ã‚´ãƒªæ›´æ–°ãƒªã‚¯ã‚¨ã‚¹ãƒˆ\n\n### Validation\n\n- `class-validator`ã‚’ä½¿ç”¨ã—ãŸãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³\n- ã‚«ãƒ†ã‚´ãƒªã‚¿ã‚¤ãƒ—ã®Enumæ¤œè¨¼\n- å¿…é ˆé …ç›®ãƒã‚§ãƒƒã‚¯\n- é‡‘é¡ã®ç¯„å›²ãƒã‚§ãƒƒã‚¯\n\n## âœ… å®Œäº†æ¡ä»¶\n\n- [ ] SubcategoryControllerå®Ÿè£…\n- [ ] å„ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®DTOå®Ÿè£…\n- [ ] ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè£…\n- [ ] Swagger/OpenAPIå®šç¾©è¿½åŠ \n- [ ] E2Eãƒ†ã‚¹ãƒˆä½œæˆ\n- [ ] Lint/Build/TestæˆåŠŸ\n\n## ğŸ“ å‚™è€ƒ\n\n### è¨­è¨ˆå‚ç…§\n\n- è©³ç´°è¨­è¨ˆæ›¸: `docs/detailed-design/FR-009_detailed-category-classification/`\n- å…¥å‡ºåŠ›è¨­è¨ˆ: `docs/detailed-design/FR-009_detailed-category-classification/input-output-design.md`\n\n### æ³¨æ„ç‚¹\n\n1. **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: 404, 400, 500ã®é©åˆ‡ãªè¿”å´\n2. **ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³**: DTOã§ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å¿…é ˆ\n3. **Swagger**: å„ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã«@ApiOperationç­‰ã‚’ä»˜ä¸",
  "labels": ["feature", "backend"],
  "assignees": ["kencom2400"],
  "project_id": "PVT_kwDONaiu9s4A0Fjr",
  "status": "ğŸ“ To Do",
  "priority": "high"
}

