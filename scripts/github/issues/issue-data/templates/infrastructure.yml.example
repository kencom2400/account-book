# インフラ・環境構築用テンプレート
title: "[infrastructure] インフラ構築・変更の内容"
labels:
  - infrastructure
  - priority: high  # または medium, low
  - size: L  # XS, S, M, L, XL

body: |
  ## 概要
  インフラ構築・変更の概要を簡潔に記載します。

  ## 背景
  なぜこのインフラ変更が必要なのかを記載します。

  ### 現状の問題点
  - 問題点1
  - 問題点2
  - 問題点3

  ### 目指す姿
  - 改善後の状態1
  - 改善後の状態2

  ## 実装内容

  ### Phase 1: 環境設計
  #### 1.1 アーキテクチャ設計
  システム構成、使用する技術スタックなどを記載

  #### 1.2 セキュリティ設計
  セキュリティ要件、認証・認可の設計

  ### Phase 2: 環境構築
  #### 2.1 開発環境
  開発環境の構築手順

  #### 2.2 本番環境
  本番環境の構築手順

  ### Phase 3: CI/CD設定
  #### 3.1 ビルドパイプライン
  CI/CDの設定内容

  #### 3.2 デプロイ設定
  デプロイフローの設定

  ### Phase 4: 監視・運用
  #### 4.1 監視設定
  モニタリング、アラートの設定

  #### 4.2 バックアップ設定
  バックアップ戦略の実装

  ## 技術スタック
  - コンテナ: Docker, Kubernetes
  - CI/CD: GitHub Actions
  - クラウド: AWS / GCP / Azure
  - データベース: MySQL / PostgreSQL
  - 監視: Prometheus, Grafana

  ## 作業チェックリスト

  ### Phase 1: 環境設計
  - [ ] アーキテクチャ設計
  - [ ] セキュリティ要件定義
  - [ ] コスト見積もり

  ### Phase 2: 環境構築
  - [ ] 開発環境構築
  - [ ] ステージング環境構築
  - [ ] 本番環境構築
  - [ ] 環境変数設定

  ### Phase 3: CI/CD設定
  - [ ] ビルドパイプライン設定
  - [ ] テスト自動化
  - [ ] デプロイ自動化
  - [ ] ロールバック手順の確立

  ### Phase 4: 監視・運用
  - [ ] 監視設定
  - [ ] アラート設定
  - [ ] バックアップ設定
  - [ ] 障害対応手順書作成

  ### Phase 5: ドキュメント
  - [ ] 構築手順書
  - [ ] 運用手順書
  - [ ] 障害対応手順書
  - [ ] READMEの更新

  ## 受入基準
  - [ ] すべての環境が正常に動作する
  - [ ] CI/CDパイプラインが正常に動作する
  - [ ] セキュリティ要件を満たしている
  - [ ] 監視・アラートが正常に動作する
  - [ ] バックアップが正常に動作する
  - [ ] ドキュメントが整備されている

  ## セキュリティ考慮事項
  - [ ] 認証情報の安全な管理
  - [ ] ネットワークセキュリティの設定
  - [ ] アクセス制御の設定
  - [ ] ログの適切な管理
  - [ ] 暗号化の実装

  ## パフォーマンス要件
  - レスポンスタイム: XX秒以内
  - スループット: XX req/sec
  - 可用性: XX%

  ## コスト見積もり
  - 初期コスト: $XXX
  - 月額コスト: $XXX/月
  - コスト削減効果: $XXX/月（既存比）

  ## リスクと対策
  | リスク | 影響 | 確率 | 対策 |
  |--------|------|------|------|
  | ダウンタイム発生 | 高 | 低 | ロールバック手順の確立 |
  | データ損失 | 高 | 低 | バックアップの実施 |
  | コスト超過 | 中 | 中 | コスト監視の実施 |

  ## マイグレーション計画
  ### 移行手順
  1. ステップ1
  2. ステップ2
  3. ステップ3

  ### ロールバック計画
  問題が発生した場合の戻し方を記載

  ## 見積もり工数
  5〜10日

  ## 参考資料
  - [アーキテクチャ図](https://example.com)
  - [技術仕様書](https://example.com)
  - [ベストプラクティス](https://example.com)

  ## 関連Issue
  - 関連する Issue #XXX

  ## 備考
  - 段階的な移行が必要な場合はその方針を記載
  - ダウンタイムが発生する場合はその旨を明記

