# リファクタリング用テンプレート
title: "[refactor] リファクタリングの内容"
labels:
  - refactor
  - backend  # または frontend, library
  - priority: medium  # または high, low
  - size: M  # XS, S, M, L, XL

body: |
  ## 概要
  リファクタリングの概要を簡潔に記載します。

  ## 背景
  なぜこのリファクタリングが必要なのかを記載します。

  ### 現状の問題点
  - コードの重複が多い
  - 可読性が低い
  - 保守性が低い
  - パフォーマンスの問題
  - テストが書きにくい

  ### 目指す姿
  - コードが整理されている
  - 可読性が高い
  - 保守性が高い
  - パフォーマンスが改善されている
  - テストが書きやすい

  ## 対象範囲
  ### 対象ファイル
  - `src/modules/example/service.ts`
  - `src/modules/example/controller.ts`
  - `src/modules/example/repository.ts`

  ### 対象機能
  - 機能A
  - 機能B

  ## リファクタリング内容

  ### Phase 1: 準備
  #### 1.1 現状分析
  - 既存コードの分析
  - 問題点の洗い出し

  #### 1.2 設計
  - 新しい構造の設計
  - インターフェース定義

  ### Phase 2: 実装
  #### 2.1 コード整理
  具体的なリファクタリング内容

  #### 2.2 テスト追加
  必要なテストの追加

  ### Phase 3: 検証
  #### 3.1 動作確認
  既存機能の動作確認

  #### 3.2 パフォーマンス確認
  パフォーマンスの改善確認

  ## 作業チェックリスト

  ### Phase 1: 準備
  - [ ] 既存コードの分析
  - [ ] 問題点の洗い出し
  - [ ] 新しい構造の設計

  ### Phase 2: 実装
  - [ ] コードのリファクタリング
  - [ ] テストの追加・更新
  - [ ] ドキュメントの更新

  ### Phase 3: 検証
  - [ ] すべてのテストがパス
  - [ ] 既存機能の動作確認
  - [ ] パフォーマンス確認
  - [ ] コードレビュー
  - [ ] Lintエラーの解消

  ## 受入基準
  - [ ] すべてのテストがパスする
  - [ ] 既存機能に影響がない
  - [ ] コードの品質が向上している
  - [ ] パフォーマンスが悪化していない
  - [ ] ドキュメントが更新されている

  ## 品質指標
  ### Before
  - コード行数: XXX行
  - 循環的複雑度: XX
  - テストカバレッジ: XX%

  ### After（目標）
  - コード行数: XXX行（XX%削減）
  - 循環的複雑度: XX（XX%改善）
  - テストカバレッジ: XX%（XX%向上）

  ## リスクと対策
  | リスク | 影響 | 対策 |
  |--------|------|------|
  | 既存機能の破壊 | 高 | 十分なテストを実施 |
  | パフォーマンス悪化 | 中 | ベンチマークを実施 |

  ## 見積もり工数
  2〜3日

  ## 参考資料
  - [リファクタリングのベストプラクティス](https://example.com)
  - [デザインパターン](https://example.com)

  ## 備考
  - Breaking Changeを含む場合はその旨を明記
  - 段階的なリファクタリングが推奨される場合はその方針を記載

