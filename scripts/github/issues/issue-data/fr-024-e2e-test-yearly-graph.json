{
  "title": "[TESTING] FR-024: 年間収支グラフのE2Eテスト追加",
  "labels": ["testing", "frontend", "priority: medium", "size: S"],
  "body": "## 概要\n\nIssue #53で実装した`YearlyBalanceGraph`コンポーネントのE2Eテストを追加します。\n\n## 背景\n\n- ✅ `YearlyBalanceGraph`コンポーネントは実装済み（Issue #53）\n- ✅ ユニットテストは実装済み\n- ❌ E2Eテストが未実装\n\n## 実装内容\n\n### 1. E2Eテストケース\n\n#### 基本機能テスト\n- [ ] 年間収支グラフページにアクセスできる\n- [ ] デフォルトで現在の年のデータが表示される\n- [ ] 年を選択してデータを取得できる\n- [ ] 3種類のグラフ（折れ線、棒、エリア）が表示される\n\n#### データ表示テスト\n- [ ] 月別折れ線グラフに収入・支出・収支の3本の線が表示される\n- [ ] 月別積み上げ棒グラフに収入バーと支出バーが表示される\n- [ ] 収支差額エリアグラフが表示される（プラス/マイナスで色分け）\n- [ ] データが空の場合に適切なメッセージが表示される\n\n#### インタラクションテスト\n- [ ] 年選択ドロップダウンで年を変更できる\n- [ ] 年を変更するとデータが再取得される\n- [ ] ローディング状態が適切に表示される\n- [ ] エラー時に適切なメッセージが表示される\n\n#### エラーハンドリングテスト\n- [ ] APIエラー時にエラーメッセージが表示される\n- [ ] 無効な年を選択した場合のエラーハンドリング\n- [ ] ネットワークエラー時のエラーハンドリング\n\n### 2. テストデータの準備\n\n- [ ] 年間収支データのテストフィクスチャを作成\n- [ ] 複数の年のテストデータを準備\n- [ ] 空データのテストケースを準備\n\n### 3. テスト実装\n\n#### テストファイル\n- [ ] `apps/frontend/e2e/yearly-balance-graph.spec.ts` を作成\n\n#### テスト構造\n```typescript\ntest.describe('年間収支グラフ表示機能 (FR-024)', () => {\n  test.beforeEach(async ({ page }) => {\n    // テストデータの準備\n  });\n\n  test('年間収支グラフページにアクセスできる', async ({ page }) => {\n    // テスト実装\n  });\n\n  test('年を選択してデータを取得できる', async ({ page }) => {\n    // テスト実装\n  });\n\n  // その他のテストケース\n});\n```\n\n## 作業チェックリスト\n\n- [ ] E2Eテストケースの設計\n- [ ] テストデータの準備\n- [ ] テストファイルの作成\n- [ ] 基本機能テストの実装\n- [ ] データ表示テストの実装\n- [ ] インタラクションテストの実装\n- [ ] エラーハンドリングテストの実装\n- [ ] テストの実行と確認\n- [ ] CI/CDでの自動実行確認\n\n## 受入基準\n\n- [ ] すべてのE2Eテストがパスする\n- [ ] テストカバレッジが主要フローをカバーしている\n- [ ] CI/CDでテストが自動実行される\n- [ ] テストが安定して実行できる（フレーキーでない）\n- [ ] テスト実行時間が適切（1分以内）\n\n## テストフレームワーク\n\n- **E2Eテスト**: Playwright\n- **テスト実行**: `./scripts/test/test-e2e.sh frontend`\n\n## 参考資料\n\n- 既存のE2Eテスト: `apps/frontend/e2e/yearly-balance.spec.ts` (FR-020)\n- 既存のE2Eテスト: `apps/frontend/e2e/monthly-balance.spec.ts` (FR-016)\n- [Playwright Documentation](https://playwright.dev/)\n\n## 関連Issue\n\n- Issue #53 - FR-024: 年間収支グラフ表示機能の実装\n- Issue #XXX - FR-024: 年間収支グラフをページに統合（統合後にE2Eテストを実装）\n\n## 見積もり工数\n\n1日\n\n## 備考\n\n- ページ統合（別Issue）が完了してから実装することを推奨\n- 既存のE2Eテスト（`yearly-balance.spec.ts`）を参考にする\n- APIのE2Eテストは既に実装済み（`yearly-balance.spec.ts`）のため、UIのE2Eテストに集中する"
}
