#!/bin/bash

# Epic Issue Creation Script
# ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ã€Epic Issueã‚’GitHub APIã‚’ä½¿ã£ã¦ä¸€æ‹¬ä½œæˆã—ã¾ã™

set -e

SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
PROJECT_ROOT="$(cd "$SCRIPT_DIR/../.." && pwd)"

echo "ğŸš€ Epic Issue Creation"
echo "======================"
echo ""

# Check if gh CLI is installed
if ! command -v gh &> /dev/null; then
    echo "âŒ GitHub CLI (gh) is not installed."
    exit 1
fi

# Function to create an epic issue
create_epic() {
    local title="$1"
    local body="$2"
    local milestone="$3"
    local labels="$4"
    
    echo "Creating Epic: $title"
    
    # Create issue using GitHub CLI
    gh issue create \
        --title "$title" \
        --body "$body" \
        --milestone "$milestone" \
        --label "$labels" \
        --repo kencom/account-book
    
    echo "âœ… Created: $title"
    echo ""
}

echo "ğŸ“ Creating Epic Issues..."
echo ""

# EPIC-001: åŸºç›¤æ§‹ç¯‰
read -r -d '' BODY_001 << 'EOF' || true
## ğŸ“‹ Epicæ¦‚è¦

Monorepoãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®åˆæœŸåŒ–ã€é–‹ç™ºç’°å¢ƒæ§‹ç¯‰ã€CI/CDæ•´å‚™ã€GitHubç’°å¢ƒæ•´å‚™

## ğŸ¯ ç›®çš„

- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®åŸºç›¤ã‚’æ§‹ç¯‰ã—ã€é–‹ç™ºã‚’åŠ¹ç‡çš„ã«é€²ã‚ã‚‰ã‚Œã‚‹ç’°å¢ƒã‚’æ•´ãˆã‚‹
- ã‚³ãƒ¼ãƒ‰å“è³ªã‚’ä¿ã¤ãŸã‚ã®Lint/Format/Testç’°å¢ƒã‚’æ•´å‚™
- GitHub Issueãƒ™ãƒ¼ã‚¹ã®é–‹ç™ºãƒ—ãƒ­ã‚»ã‚¹ã‚’ç¢ºç«‹

## âœ… å—å…¥åŸºæº–

- [x] Monorepoæ§‹æˆ (pnpm workspace + Turbo) ãŒå®Œäº†
- [x] Lint/Formatç’°å¢ƒãŒæ•´å‚™ã•ã‚Œã€CIã§è‡ªå‹•ãƒã‚§ãƒƒã‚¯
- [x] ãƒ†ã‚¹ãƒˆç’°å¢ƒ (Jest + Playwright) ãŒæ•´å‚™
- [x] CI/CD (GitHub Actions) ãŒå‹•ä½œ
- [x] GitHub Issue/PR ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒæ•´å‚™
- [x] ãƒ©ãƒ™ãƒ«ãƒ»ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ãŒè¨­å®š

## ğŸ“Š é–¢é€£Issue

- #138 [TASK] GitHubç’°å¢ƒæ§‹ç¯‰ã¨å…¨Issueè©³ç´°åŒ–ã®å®Œäº†
- ãã®ä»–ã€Phase 0é–¢é€£ã®å®Œäº†æ¸ˆã¿ã‚¿ã‚¹ã‚¯

## ğŸ† Definition of Done

- ã™ã¹ã¦ã®é–¢é€£IssueãŒå®Œäº†
- é–‹ç™ºç’°å¢ƒã§å•é¡Œãªãé–‹ç™ºãŒé€²ã‚ã‚‰ã‚Œã‚‹
- CIãŒæ­£å¸¸ã«å‹•ä½œã—ã¦ã„ã‚‹
- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒæ•´å‚™ã•ã‚Œã¦ã„ã‚‹

## ğŸ“… ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«

- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹: âœ… Completed
- å®Œäº†æ—¥: 2025-11-19

---

**Epic ID**: EPIC-001  
**Phase**: Phase 0: åŸºç›¤æ§‹ç¯‰
EOF

# EPIC-002: ãƒ‡ãƒ¼ã‚¿å–å¾—æ©Ÿèƒ½
read -r -d '' BODY_002 << 'EOF' || true
## ğŸ“‹ Epicæ¦‚è¦

éŠ€è¡Œã€ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰ã€è¨¼åˆ¸ä¼šç¤¾ã¨ã®é€£æºã€å–å¼•ãƒ‡ãƒ¼ã‚¿ã®è‡ªå‹•å–å¾—ã€ãƒ­ãƒ¼ã‚«ãƒ«JSONãƒ•ã‚¡ã‚¤ãƒ«ã¸ã®ä¿å­˜

## ğŸ¯ ç›®çš„

- é‡‘èæ©Ÿé–¢APIã¨é€£æºã—ã€å–å¼•ãƒ‡ãƒ¼ã‚¿ã‚’è‡ªå‹•ã§å–å¾—ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹
- ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã«å®‰å…¨ã«ä¿å­˜ã™ã‚‹ä»•çµ„ã¿ã‚’æ§‹ç¯‰
- é€£æºçŠ¶æ…‹ã®ç›£è¦–ã¨å¤±æ•—æ™‚ã®é€šçŸ¥æ©Ÿèƒ½ã‚’å®Ÿè£…

## âœ… å—å…¥åŸºæº–

- [ ] éŠ€è¡Œå£åº§ã¨ã®é€£æºãŒã§ãã‚‹
- [ ] ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰ã¨ã®é€£æºãŒã§ãã‚‹
- [ ] è¨¼åˆ¸ä¼šç¤¾ã¨ã®é€£æºãŒã§ãã‚‹
- [ ] é€£æºçŠ¶æ…‹ã‚’ç¢ºèªã§ãã‚‹
- [ ] é€£æºå¤±æ•—æ™‚ã«é€šçŸ¥ãŒå±Šã
- [ ] å–å¼•ãƒ‡ãƒ¼ã‚¿ãŒè‡ªå‹•ã§å–å¾—ã•ã‚Œã‚‹
- [ ] ãƒ‡ãƒ¼ã‚¿ãŒJSONãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜ã•ã‚Œã‚‹
- [ ] å–å¾—ã—ãŸãƒ‡ãƒ¼ã‚¿ãŒæ­£ã—ãåˆ†é¡ã•ã‚Œã‚‹

## ğŸ“Š é–¢é€£Issue

- [ ] #47 [FEATURE] FR-001: éŠ€è¡Œå£åº§ã¨ã®é€£æºæ©Ÿèƒ½
- [ ] #48 [FEATURE] FR-002: ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰ã¨ã®é€£æºæ©Ÿèƒ½
- [ ] #49 [FEATURE] FR-003: è¨¼åˆ¸ä¼šç¤¾ã¨ã®é€£æºæ©Ÿèƒ½
- [ ] #50 [FEATURE] FR-004: é€£æºçŠ¶æ…‹ã®ç¢ºèªæ©Ÿèƒ½
- [ ] #51 [FEATURE] FR-005: é€£æºå¤±æ•—æ™‚ã®é€šçŸ¥æ©Ÿèƒ½
- [ ] #52 [FEATURE] FR-006: å–å¼•ãƒ‡ãƒ¼ã‚¿ã®è‡ªå‹•å–å¾—æ©Ÿèƒ½
- [ ] #53 [FEATURE] FR-007: JSONãƒ•ã‚¡ã‚¤ãƒ«ã¸ã®ãƒ‡ãƒ¼ã‚¿ä¿å­˜

## ğŸ† Definition of Done

- ã™ã¹ã¦ã®é–¢é€£IssueãŒå®Œäº†
- é‡‘èæ©Ÿé–¢ã¨ã®é€£æºãŒå‹•ä½œã—ã€ãƒ‡ãƒ¼ã‚¿ãŒå–å¾—ã§ãã‚‹
- å˜ä½“ãƒ†ã‚¹ãƒˆãƒ»çµ±åˆãƒ†ã‚¹ãƒˆãŒå®Ÿè£…ã•ã‚Œã€ãƒ‘ã‚¹ã—ã¦ã„ã‚‹
- APIãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒæ•´å‚™ã•ã‚Œã¦ã„ã‚‹
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ãŒä½œæˆã•ã‚Œã¦ã„ã‚‹

## ğŸ“… ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«

- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹: ğŸ”´ Pending
- é–‹å§‹äºˆå®šæ—¥: Phase 1
- å®Œäº†äºˆå®šæ—¥: 2025-12-31
- è¦‹ç©ã‚‚ã‚Šå·¥æ•°: 15-20äººæ—¥

---

**Epic ID**: EPIC-002  
**Phase**: Phase 1: ãƒ‡ãƒ¼ã‚¿å–å¾—  
**Functional Requirements**: FR-001 ã€œ FR-007
EOF

# EPIC-003: ãƒ‡ãƒ¼ã‚¿åˆ†é¡æ©Ÿèƒ½
read -r -d '' BODY_003 << 'EOF' || true
## ğŸ“‹ Epicæ¦‚è¦

å–å¼•ã®è‡ªå‹•åˆ†é¡ï¼ˆ5ã‚«ãƒ†ã‚´ãƒªï¼šåå…¥ãƒ»æ”¯å‡ºãƒ»æŒ¯æ›¿ãƒ»è¿”æ¸ˆãƒ»æŠ•è³‡ï¼‰ã€è©³ç´°è²»ç›®åˆ†é¡ã€æ‰‹å‹•ä¿®æ­£æ©Ÿèƒ½ã€ã‚«ã‚¹ã‚¿ãƒ ã‚«ãƒ†ã‚´ãƒªç®¡ç†

## ğŸ¯ ç›®çš„

- å–å¼•ãƒ‡ãƒ¼ã‚¿ã‚’è‡ªå‹•ã§é©åˆ‡ãªã‚«ãƒ†ã‚´ãƒªã«åˆ†é¡ã™ã‚‹
- MoneyTree/MoneyForwardã‚¹ã‚¿ã‚¤ãƒ«ã®è©³ç´°ãªè²»ç›®åˆ†é¡ã‚’å®Ÿè£…
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ‰‹å‹•ã§ã‚«ãƒ†ã‚´ãƒªã‚’ä¿®æ­£ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹
- ã‚«ã‚¹ã‚¿ãƒ ã‚«ãƒ†ã‚´ãƒªãƒ»è²»ç›®ã‚’è¿½åŠ ãƒ»ç·¨é›†ãƒ»å‰Šé™¤ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹

## âœ… å—å…¥åŸºæº–

- [ ] å–å¼•ãŒ5ç¨®é¡ã®ã‚«ãƒ†ã‚´ãƒªã«è‡ªå‹•åˆ†é¡ã•ã‚Œã‚‹
- [ ] è©³ç´°ãªè²»ç›®ï¼ˆé£Ÿè²»ã€äº¤é€šè²»ãªã©ï¼‰ã«è‡ªå‹•åˆ†é¡ã•ã‚Œã‚‹
- [ ] ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚«ãƒ†ã‚´ãƒªãƒ»è²»ç›®ã‚’æ‰‹å‹•ã§ä¿®æ­£ã§ãã‚‹
- [ ] ã‚«ã‚¹ã‚¿ãƒ ã‚«ãƒ†ã‚´ãƒªãƒ»è²»ç›®ã‚’è¿½åŠ ã§ãã‚‹
- [ ] ã‚«ãƒ†ã‚´ãƒªãƒ»è²»ç›®ã‚’ç·¨é›†ãƒ»å‰Šé™¤ã§ãã‚‹
- [ ] åˆ†é¡ãƒ­ã‚¸ãƒƒã‚¯ãŒå­¦ç¿’æ©Ÿèƒ½ã‚’æŒã¤ï¼ˆå°†æ¥æ‹¡å¼µï¼‰

## ğŸ“Š é–¢é€£Issue

- [ ] #55 [FEATURE] FR-008: 5ç¨®é¡ã®ã‚«ãƒ†ã‚´ãƒªåˆ†é¡æ©Ÿèƒ½
- [ ] #56 [FEATURE] FR-009: è©³ç´°è²»ç›®åˆ†é¡æ©Ÿèƒ½
- [ ] #57 [FEATURE] FR-010: è²»ç›®ã®æ‰‹å‹•ä¿®æ­£æ©Ÿèƒ½
- [ ] #58 [FEATURE] FR-011: è²»ç›®ã®è¿½åŠ ãƒ»ç·¨é›†ãƒ»å‰Šé™¤æ©Ÿèƒ½
- [ ] #110 [TASK] E-4: è²»ç›®ç·¨é›†ç”»é¢ã®å®Ÿè£…

## ğŸ† Definition of Done

- ã™ã¹ã¦ã®é–¢é€£IssueãŒå®Œäº†
- è‡ªå‹•åˆ†é¡ãŒæ­£ç¢ºã«å‹•ä½œã™ã‚‹ï¼ˆç²¾åº¦80%ä»¥ä¸Šï¼‰
- æ‰‹å‹•ä¿®æ­£ãŒã‚¹ãƒ ãƒ¼ã‚ºã«è¡Œãˆã‚‹
- å˜ä½“ãƒ†ã‚¹ãƒˆãƒ»çµ±åˆãƒ†ã‚¹ãƒˆãŒå®Ÿè£…ã•ã‚Œã€ãƒ‘ã‚¹ã—ã¦ã„ã‚‹
- åˆ†é¡ãƒ­ã‚¸ãƒƒã‚¯ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒæ•´å‚™ã•ã‚Œã¦ã„ã‚‹

## ğŸ“… ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«

- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹: ğŸ”´ Pending
- é–‹å§‹äºˆå®šæ—¥: Phase 2
- å®Œäº†äºˆå®šæ—¥: 2026-01-31
- è¦‹ç©ã‚‚ã‚Šå·¥æ•°: 20-25äººæ—¥

---

**Epic ID**: EPIC-003  
**Phase**: Phase 2: åˆ†é¡æ©Ÿèƒ½  
**Functional Requirements**: FR-008 ã€œ FR-011
EOF

# EPIC-004: ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰ç®¡ç†
read -r -d '' BODY_004 << 'EOF' || true
## ğŸ“‹ Epicæ¦‚è¦

ã‚«ãƒ¼ãƒ‰åˆ©ç”¨æ˜ç´°ã®æœˆåˆ¥é›†è¨ˆã€éŠ€è¡Œå¼•è½é¡ã¨ã®è‡ªå‹•ç…§åˆã€æ”¯æ‰•ã„ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç®¡ç†ã€ä¸ä¸€è‡´æ™‚ã®ã‚¢ãƒ©ãƒ¼ãƒˆè¡¨ç¤º

## ğŸ¯ ç›®çš„

- ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰ã®åˆ©ç”¨æ˜ç´°ã‚’æœˆåˆ¥ã«é›†è¨ˆã™ã‚‹
- éŠ€è¡Œã®å¼•è½é¡ã¨è‡ªå‹•ç…§åˆã—ã€ä¸ä¸€è‡´ã‚’æ¤œå‡ºã™ã‚‹
- æ”¯æ‰•ã„ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ï¼ˆæœªæ‰•ã„ãƒ»æ”¯æ‰•æ¸ˆã¿ãƒ»å»¶æ»ï¼‰ã‚’ç®¡ç†ã™ã‚‹
- ä¸ä¸€è‡´ã‚„å»¶æ»æ™‚ã«ã‚¢ãƒ©ãƒ¼ãƒˆã‚’è¡¨ç¤ºã™ã‚‹

## âœ… å—å…¥åŸºæº–

- [ ] ã‚«ãƒ¼ãƒ‰åˆ©ç”¨æ˜ç´°ãŒæœˆåˆ¥ã«é›†è¨ˆã•ã‚Œã‚‹
- [ ] éŠ€è¡Œå¼•è½é¡ã¨è‡ªå‹•ç…§åˆã•ã‚Œã‚‹
- [ ] æ”¯æ‰•ã„ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãŒç®¡ç†ã•ã‚Œã‚‹ï¼ˆæœªæ‰•ã„ãƒ»æ”¯æ‰•æ¸ˆã¿ãƒ»å»¶æ»ï¼‰
- [ ] ä¸ä¸€è‡´æ™‚ã«ã‚¢ãƒ©ãƒ¼ãƒˆãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] è¤‡æ•°ã®ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰ã‚’ç®¡ç†ã§ãã‚‹
- [ ] å¼•è½å£åº§ã‚’æŒ‡å®šã§ãã‚‹

## ğŸ“Š é–¢é€£Issue

- [ ] #59 [FEATURE] FR-012: ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰åˆ©ç”¨æ˜ç´°ã®æœˆåˆ¥é›†è¨ˆ
- [ ] #60 [FEATURE] FR-013: éŠ€è¡Œå¼•è½é¡ã¨ã®è‡ªå‹•ç…§åˆæ©Ÿèƒ½
- [ ] #61 [FEATURE] FR-014: æ”¯æ‰•ã„ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç®¡ç†æ©Ÿèƒ½
- [ ] #62 [FEATURE] FR-015: ä¸ä¸€è‡´æ™‚ã®ã‚¢ãƒ©ãƒ¼ãƒˆè¡¨ç¤º
- [ ] #113 [TASK] E-7: ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰ç®¡ç†ç”»é¢ã®å®Ÿè£…

## ğŸ† Definition of Done

- ã™ã¹ã¦ã®é–¢é€£IssueãŒå®Œäº†
- ç…§åˆæ©Ÿèƒ½ãŒæ­£ç¢ºã«å‹•ä½œã™ã‚‹
- ã‚¢ãƒ©ãƒ¼ãƒˆãŒé©åˆ‡ã«è¡¨ç¤ºã•ã‚Œã‚‹
- å˜ä½“ãƒ†ã‚¹ãƒˆãƒ»çµ±åˆãƒ†ã‚¹ãƒˆãŒå®Ÿè£…ã•ã‚Œã€ãƒ‘ã‚¹ã—ã¦ã„ã‚‹
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ãŒä½œæˆã•ã‚Œã¦ã„ã‚‹

## ğŸ“… ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«

- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹: ğŸ”´ Pending
- é–‹å§‹äºˆå®šæ—¥: Phase 3
- å®Œäº†äºˆå®šæ—¥: 2026-02-28
- è¦‹ç©ã‚‚ã‚Šå·¥æ•°: 15-18äººæ—¥

---

**Epic ID**: EPIC-004  
**Phase**: Phase 3: ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰  
**Functional Requirements**: FR-012 ã€œ FR-015
EOF

# Create Epic Issues
echo "Creating EPIC-001: åŸºç›¤æ§‹ç¯‰..."
create_epic "[EPIC] åŸºç›¤æ§‹ç¯‰ - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸåŒ–ã¨é–‹ç™ºç’°å¢ƒæ§‹ç¯‰" "$BODY_001" "Phase 0: åŸºç›¤æ§‹ç¯‰" "epic,infrastructure,task,priority: high,status: completed"

echo "Creating EPIC-002: ãƒ‡ãƒ¼ã‚¿å–å¾—æ©Ÿèƒ½..."
create_epic "[EPIC] ãƒ‡ãƒ¼ã‚¿å–å¾—æ©Ÿèƒ½ - é‡‘èæ©Ÿé–¢APIé€£æºã¨å–å¼•ãƒ‡ãƒ¼ã‚¿å–å¾—" "$BODY_002" "Phase 1: ãƒ‡ãƒ¼ã‚¿å–å¾—" "epic,feature,integration,backend,priority: high"

echo "Creating EPIC-003: ãƒ‡ãƒ¼ã‚¿åˆ†é¡æ©Ÿèƒ½..."
create_epic "[EPIC] ãƒ‡ãƒ¼ã‚¿åˆ†é¡æ©Ÿèƒ½ - è‡ªå‹•åˆ†é¡ã¨ã‚«ãƒ†ã‚´ãƒªç®¡ç†" "$BODY_003" "Phase 2: åˆ†é¡æ©Ÿèƒ½" "epic,feature,classification,category,backend,priority: high"

echo "Creating EPIC-004: ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰ç®¡ç†..."
create_epic "[EPIC] ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰ç®¡ç† - ç…§åˆã¨æ”¯æ‰•ã„ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç®¡ç†" "$BODY_004" "Phase 3: ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰" "epic,feature,credit-card,reconciliation,backend,priority: high"

echo ""
echo "âœ¨ Epic Issue creation completed (Part 1/4)!"
echo ""
echo "ğŸ’¡ Next: Run this script again to create remaining epics"

