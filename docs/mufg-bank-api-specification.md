# 三菱UFJ銀行API仕様調査結果

## 概要

三菱UFJ銀行は、個人向けおよび法人向けのAPIサービスを提供しています。

## API開発者ポータル

- **URL**: https://developer.portal.bk.mufg.jp/
- **公式サイト**: https://www.bk.mufg.jp/houjin/mufgbiz/biz/option/api/api.html

## 提供されているAPI

### 1. 個人向けAPI

#### 口座情報API

- **機能**: 三菱UFJダイレクトに登録された口座の残高や入出金明細を照会
- **対象**: 個人向けインターネットバンキング（三菱UFJダイレクト）

#### 顧客情報API（OpenID Connect対応）

- **機能**: 氏名、住所、口座情報、本人確認済情報などの顧客情報を取得
- **認証方式**: OpenID Connect

### 2. 法人向けAPI

#### 口座情報API

- **機能**: BizSTATIONに登録された法人の口座残高や入出金明細を照会
- **対象**: 法人向けインターネットバンキング（BizSTATION）

## 認証方式

### OpenID Connect

- 顧客情報APIはOpenID Connectに対応
- OAuth 2.0ベースの認証フローを使用

### その他の認証方式

- 詳細は開発者ポータルで確認が必要
- APIキー/シークレット、Basic認証などの可能性

## 利用手順

1. **API開発者ポータルへのアクセス**
   - https://developer.portal.bk.mufg.jp/ にアクセス
   - API仕様書やサンドボックス環境を確認

2. **利用申請と契約**
   - 外部サービス会社との契約が必要
   - 三菱UFJ銀行所定の審査が必要な場合あり

3. **開発とテスト**
   - サンドボックス環境で開発・テスト
   - API仕様書に基づいて実装

4. **本番環境での運用**
   - 承認後、本番環境で運用開始

## 注意事項

### セキュリティ要件

- 顧客情報を取り扱う場合は、適切な管理と保護が必要
- 利用規約を遵守する必要がある

### 定期的な更新

- API仕様や提供内容は変更される可能性がある
- 定期的に最新情報を確認する必要がある

## 実装時の確認事項

### 1. エンドポイントURL

- 開発者ポータルで実際のエンドポイントURLを確認
- サンドボックス環境と本番環境のURLが異なる可能性

### 2. 認証方法

- OpenID Connectの実装方法
- アクセストークンの取得と管理
- リフレッシュトークンの処理

### 3. リクエスト/レスポンス形式

- JSON形式の可能性が高い
- リクエストヘッダー（Content-Type、Authorizationなど）
- エラーレスポンスの形式

### 4. レート制限

- API呼び出し回数の制限
- レート制限エラーのハンドリング

### 5. エラーハンドリング

- HTTPステータスコード
- エラーメッセージの形式
- リトライロジック

## 次のステップ

1. **開発者ポータルへの登録**
   - https://developer.portal.bk.mufg.jp/ にアクセス
   - アカウント作成（必要な場合）

2. **API仕様書の取得**
   - 口座情報APIの詳細仕様を確認
   - 認証方法の詳細を確認

3. **サンドボックス環境でのテスト**
   - テスト用の認証情報を取得
   - API呼び出しの動作確認

4. **実装**
   - `MufgBankApiAdapter`に実際のAPI呼び出しを実装
   - エラーハンドリングの実装

## 参考リンク

- [MUFG APIポータル](https://www.mufg.jp/profile/strategy/dx/api/index.html)
- [三菱UFJ銀行 API開発者ポータル](https://developer.portal.bk.mufg.jp/)
- [法人向けAPIサービス](https://www.bk.mufg.jp/houjin/mufgbiz/biz/option/api/api.html)

## 備考

- 実際のAPI仕様の詳細は、開発者ポータルで確認する必要があります
- 本ドキュメントは調査時点の情報であり、最新の情報は公式サイトで確認してください
- 実装前に、必ず開発者ポータルで最新のAPI仕様を確認してください
