# æ©Ÿèƒ½è¦ä»¶æ›¸ï¼šãƒ‡ãƒ¼ã‚¿åˆ†é¡žæ©Ÿèƒ½

**æ–‡æ›¸ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0  
**ä½œæˆæ—¥**: 2025-11-15  
**æœ€çµ‚æ›´æ–°æ—¥**: 2025-11-15

## ç›®æ¬¡
- [FR-008: ä¸»è¦ã‚«ãƒ†ã‚´ãƒªåˆ†é¡ž](#fr-008-ä¸»è¦ã‚«ãƒ†ã‚´ãƒªåˆ†é¡ž)
- [FR-009: è©³ç´°è²»ç›®åˆ†é¡ž](#fr-009-è©³ç´°è²»ç›®åˆ†é¡ž)
- [FR-010: è²»ç›®ã®æ‰‹å‹•ä¿®æ­£](#fr-010-è²»ç›®ã®æ‰‹å‹•ä¿®æ­£)
- [FR-011: è²»ç›®ã®è¿½åŠ ãƒ»ç·¨é›†ãƒ»å‰Šé™¤](#fr-011-è²»ç›®ã®è¿½åŠ ç·¨é›†å‰Šé™¤)

---

## FR-008: ä¸»è¦ã‚«ãƒ†ã‚´ãƒªåˆ†é¡ž

### åŸºæœ¬æƒ…å ±
| é …ç›® | å†…å®¹ |
|------|------|
| æ©Ÿèƒ½ID | FR-008 |
| æ©Ÿèƒ½å | å–å¼•ãƒ‡ãƒ¼ã‚¿ã®ä¸»è¦ã‚«ãƒ†ã‚´ãƒªåˆ†é¡ž |
| å„ªå…ˆåº¦ | é«˜ |
| å¯¾å¿œPhase | Phase 2 |

### æ¦‚è¦
å–å¾—ã—ãŸå–å¼•ãƒ‡ãƒ¼ã‚¿ã‚’5ã¤ã®ä¸»è¦ã‚«ãƒ†ã‚´ãƒªï¼ˆåŽå…¥ãƒ»æ”¯å‡ºãƒ»æŒ¯æ›¿ãƒ»è¿”æ¸ˆãƒ»æŠ•è³‡ï¼‰ã«è‡ªå‹•åˆ†é¡žã™ã‚‹ã€‚

### è©³ç´°ä»•æ§˜

#### 5ã¤ã®ä¸»è¦ã‚«ãƒ†ã‚´ãƒª

##### 1. åŽå…¥ï¼ˆINCOMEï¼‰
è³‡ç”£ãŒå¢—åŠ ã™ã‚‹å–å¼•

**åˆ†é¡žæ¡ä»¶:**
- å…¥é‡‘å–å¼•
- ãƒ—ãƒ©ã‚¹ã®é‡‘é¡
- çµ¦ä¸Žã€è³žä¸Žã€å ±é…¬ç­‰ã®ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰

**ä¾‹:**
- çµ¦ä¸ŽæŒ¯è¾¼
- è³žä¸Ž
- é…å½“é‡‘
- åˆ©æ¯
- å£²ä¸Šå…¥é‡‘
- é‚„ä»˜é‡‘
- ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒãƒƒã‚¯

##### 2. æ”¯å‡ºï¼ˆEXPENSEï¼‰
è³‡ç”£ãŒæ¸›å°‘ã™ã‚‹å–å¼•

**åˆ†é¡žæ¡ä»¶:**
- å‡ºé‡‘å–å¼•
- ãƒžã‚¤ãƒŠã‚¹ã®é‡‘é¡
- è³¼å…¥ã€æ”¯æ‰•ã„ç­‰ã®ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰
- ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰åˆ©ç”¨

**ä¾‹:**
- è²·ã„ç‰©
- å…¬å…±æ–™é‡‘æ”¯æ‰•ã„
- ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³
- é£²é£Ÿè²»
- äº¤é€šè²»
- åŒ»ç™‚è²»

##### 3. æŒ¯æ›¿ï¼ˆTRANSFERï¼‰
è³‡ç”£é–“ã§ç›¸æ®ºã•ã‚Œã‚‹å–å¼•

**åˆ†é¡žæ¡ä»¶:**
- å£åº§é–“é€é‡‘
- ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰å¼•è½ã—
- é›»å­ãƒžãƒãƒ¼ãƒãƒ£ãƒ¼ã‚¸
- å¯¾ã¨ãªã‚‹å–å¼•ãŒå­˜åœ¨

**ä¾‹:**
- éŠ€è¡Œå£åº§é–“ã®æŒ¯æ›¿
- ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰å¼•è½ï¼ˆéŠ€è¡Œå´ï¼‰
- é›»å­ãƒžãƒãƒ¼ã¸ã®å…¥é‡‘
- è¨¼åˆ¸å£åº§ã¸ã®å…¥é‡‘


##### 4. è¿”æ¸ˆï¼ˆREPAYMENTï¼‰
å€Ÿå…¥é‡‘ã®è¿”æ¸ˆ

**åˆ†é¡žæ¡ä»¶:**
- ãƒ­ãƒ¼ãƒ³è¿”æ¸ˆã®ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰
- å®šæœŸçš„ãªå›ºå®šé¡æ”¯æ‰•ã„
- é‡‘èžæ©Ÿé–¢ã¸ã®é€é‡‘

**ä¾‹:**
- ä½å®…ãƒ­ãƒ¼ãƒ³è¿”æ¸ˆ
- è‡ªå‹•è»Šãƒ­ãƒ¼ãƒ³è¿”æ¸ˆ
- æ•™è‚²ãƒ­ãƒ¼ãƒ³è¿”æ¸ˆ
- ã‚«ãƒ¼ãƒ‰ãƒ­ãƒ¼ãƒ³è¿”æ¸ˆ

##### 5. æŠ•è³‡ï¼ˆINVESTMENTï¼‰
æŠ•è³‡æ´»å‹•ã«é–¢ã™ã‚‹å–å¼•

**åˆ†é¡žæ¡ä»¶:**
- è¨¼åˆ¸å£åº§ã§ã®å–å¼•
- æ ªå¼ã€æŠ•è³‡ä¿¡è¨—ç­‰ã®ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰
- é…å½“ã€åˆ†é…é‡‘ï¼ˆåŽå…¥ã‚«ãƒ†ã‚´ãƒªã¨ã‚‚é€£æºï¼‰

**ä¾‹:**
- æ ªå¼è³¼å…¥
- æŠ•è³‡ä¿¡è¨—è³¼å…¥
- å‚µåˆ¸è³¼å…¥
- æ ªå¼å£²å´
- é…å½“é‡‘å—å–
- åˆ†é…é‡‘å—å–

#### è‡ªå‹•åˆ†é¡žãƒ­ã‚¸ãƒƒã‚¯

##### Phase 1: ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹åˆ†é¡ž
```typescript
// å„ªå…ˆé †ä½ã«åŸºã¥ãåˆ†é¡ž
function autoClassify(transaction: Transaction): CategoryType {
  // 1. é‡‘èžæ©Ÿé–¢ã‚¿ã‚¤ãƒ—ã§åˆ¤å®š
  if (transaction.institutionType === 'securities') {
    return 'INVESTMENT';
  }
  
  // 2. ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãƒžãƒƒãƒãƒ³ã‚°
  const keywords = extractKeywords(transaction.description);
  const category = matchKeywords(keywords);
  if (category) return category;
  
  // 3. é‡‘é¡ã¨å–å¼•ç¨®åˆ¥
  if (transaction.amount > 0 && transaction.type === 'deposit') {
    return 'INCOME';
  }
  if (transaction.amount < 0 && transaction.type === 'withdrawal') {
    return 'EXPENSE';
  }
  
  // 4. æŒ¯æ›¿ãƒ‘ã‚¿ãƒ¼ãƒ³æ¤œå‡º
  if (isTransferPattern(transaction)) {
    return 'TRANSFER';
  }
  
  // 5. ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ
  return 'EXPENSE';
}
```

##### Phase 2: æ©Ÿæ¢°å­¦ç¿’ãƒ™ãƒ¼ã‚¹åˆ†é¡žï¼ˆå°†æ¥ï¼‰
- éŽåŽ»ã®æ‰‹å‹•ä¿®æ­£ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰å­¦ç¿’
- ç²¾åº¦å‘ä¸Šã®ãŸã‚ã®ç¶™ç¶šå­¦ç¿’
- ãƒ¦ãƒ¼ã‚¶ãƒ¼å›ºæœ‰ã®ãƒ‘ã‚¿ãƒ¼ãƒ³èªè­˜

#### ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰è¾žæ›¸

**åŽå…¥ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰:**
```json
{
  "income": [
    "çµ¦ä¸Ž", "è³žä¸Ž", "ãƒœãƒ¼ãƒŠã‚¹", "å ±é…¬", "é…å½“",
    "åˆ©æ¯", "å£²ä¸Š", "é‚„ä»˜", "ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒãƒƒã‚¯",
    "æ‰•æˆ»", "è¿”é‡‘", "æŒ¯è¾¼", "salary", "bonus"
  ]
}
```

**æ”¯å‡ºã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰:**
```json
{
  "expense": [
    "è³¼å…¥", "æ”¯æ‰•", "æ±ºæ¸ˆ", "å¼•è½", "ã‚³ãƒ³ãƒ“ãƒ‹",
    "ã‚¹ãƒ¼ãƒ‘ãƒ¼", "ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³", "ã‚«ãƒ•ã‚§", "ã‚¬ã‚½ãƒªãƒ³",
    "å…¬å…±æ–™é‡‘", "æºå¸¯", "æ°´é“", "é›»æ°—", "ã‚¬ã‚¹"
  ]
}
```

**æŒ¯æ›¿ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰:**
```json
{
  "transfer": [
    "æŒ¯æ›¿", "ã‚«ãƒ¼ãƒ‰å¼•è½", "å£åº§æŒ¯æ›¿", "è³‡é‡‘ç§»å‹•",
    "ãƒãƒ£ãƒ¼ã‚¸", "å…¥é‡‘", "é€é‡‘", "transfer"
  ]
}
```

**è¿”æ¸ˆã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰:**
```json
{
  "repayment": [
    "ãƒ­ãƒ¼ãƒ³", "è¿”æ¸ˆ", "loan", "repayment",
    "ä½å®…ãƒ­ãƒ¼ãƒ³", "è‡ªå‹•è»Šãƒ­ãƒ¼ãƒ³", "æ•™è‚²ãƒ­ãƒ¼ãƒ³"
  ]
}
```

**æŠ•è³‡ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰:**
```json
{
  "investment": [
    "æ ªå¼", "æŠ•è³‡ä¿¡è¨—", "å‚µåˆ¸", "å£²è²·",
    "é…å½“", "åˆ†é…é‡‘", "æ ª", "fund", "stock"
  ]
}
```

#### å…¥åŠ›
- å–å¼•ãƒ‡ãƒ¼ã‚¿
  - é‡‘é¡
  - å–å¼•ç¨®åˆ¥
  - æ‘˜è¦ãƒ»èª¬æ˜Ž
  - é‡‘èžæ©Ÿé–¢ã‚¿ã‚¤ãƒ—
  - å£åº§æƒ…å ±

#### å‡ºåŠ›
- åˆ†é¡žã•ã‚ŒãŸã‚«ãƒ†ã‚´ãƒª
- åˆ†é¡žä¿¡é ¼åº¦ï¼ˆ0-100%ï¼‰
- åˆ†é¡žç†ç”±

#### å‡¦ç†ãƒ•ãƒ­ãƒ¼
```
1. [å…¥åŠ›] å–å¼•ãƒ‡ãƒ¼ã‚¿å—é ˜
2. é‡‘èžæ©Ÿé–¢ã‚¿ã‚¤ãƒ—ãƒã‚§ãƒƒã‚¯
3. æ‘˜è¦ã‹ã‚‰ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æŠ½å‡º
4. ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰è¾žæ›¸ã¨ã®ç…§åˆ
5. é‡‘é¡ã¨å–å¼•ç¨®åˆ¥ã®åˆ¤å®š
6. æŒ¯æ›¿ãƒ‘ã‚¿ãƒ¼ãƒ³ã®æ¤œå‡º
7. åˆ†é¡žä¿¡é ¼åº¦ã®è¨ˆç®—
8. ã‚«ãƒ†ã‚´ãƒªã‚’æ±ºå®š
9. [ä½Žä¿¡é ¼åº¦ã®å ´åˆ] æ‰‹å‹•ç¢ºèªãƒ•ãƒ©ã‚°ã‚’è¨­å®š
10. çµæžœã‚’è¿”å´
```

#### åˆ†é¡žä¿¡é ¼åº¦ã®è¨ˆç®—
```
ä¿¡é ¼åº¦ = (ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãƒžãƒƒãƒåº¦ Ã— 0.6) 
       + (é‡‘é¡ãƒ‘ã‚¿ãƒ¼ãƒ³ä¸€è‡´åº¦ Ã— 0.3)
       + (é‡‘èžæ©Ÿé–¢ã‚¿ã‚¤ãƒ—ä¸€è‡´åº¦ Ã— 0.1)

- 90%ä»¥ä¸Š: è‡ªå‹•ç¢ºå®š
- 70-90%: è‡ªå‹•ç¢ºå®šï¼ˆè¦ç¢ºèªãƒžãƒ¼ã‚¯ï¼‰
- 70%æœªæº€: æ‰‹å‹•ç¢ºèªæŽ¨å¥¨
```

#### ã‚¨ãƒ©ãƒ¼å‡¦ç†
- åˆ†é¡žä¸å¯ã®å ´åˆã¯ã€Œæœªåˆ†é¡žã€ã¨ã—ã¦ä¿å­˜
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«æ‰‹å‹•åˆ†é¡žã‚’ä¿ƒã™

#### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹è¦ä»¶
- 1ä»¶ã‚ãŸã‚Š10msä»¥å†…
- ãƒãƒƒãƒå‡¦ç†: 1000ä»¶/ç§’

#### ç”»é¢è¦ä»¶
- å–å¼•ä¸€è¦§ã§ã‚«ãƒ†ã‚´ãƒªã‚¢ã‚¤ã‚³ãƒ³è¡¨ç¤º
- ä½Žä¿¡é ¼åº¦ã®å–å¼•ã«ãƒžãƒ¼ã‚¯è¡¨ç¤º
- ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯ã§ã‚«ãƒ†ã‚´ãƒªå¤‰æ›´å¯èƒ½

#### ä¾å­˜é–¢ä¿‚
- FR-006ï¼ˆãƒ‡ãƒ¼ã‚¿å–å¾—ï¼‰ã‹ã‚‰å‘¼ã³å‡ºã•ã‚Œã‚‹
- FR-009ï¼ˆè©³ç´°è²»ç›®åˆ†é¡žï¼‰ã‚’å‘¼ã³å‡ºã™
- FR-010ï¼ˆæ‰‹å‹•ä¿®æ­£ï¼‰ã§ä¿®æ­£å¯èƒ½

---

## FR-009: è©³ç´°è²»ç›®åˆ†é¡ž

### åŸºæœ¬æƒ…å ±
| é …ç›® | å†…å®¹ |
|------|------|
| æ©Ÿèƒ½ID | FR-009 |
| æ©Ÿèƒ½å | MoneyTreeãƒ»MoneyForwardæº–æ‹ ã®è©³ç´°è²»ç›®åˆ†é¡ž |
| å„ªå…ˆåº¦ | é«˜ |
| å¯¾å¿œPhase | Phase 2 |

### æ¦‚è¦
ä¸»è¦ã‚«ãƒ†ã‚´ãƒªã‚’ã•ã‚‰ã«è©³ç´°ãªè²»ç›®ï¼ˆã‚µãƒ–ã‚«ãƒ†ã‚´ãƒªï¼‰ã«åˆ†é¡žã™ã‚‹ã€‚
MoneyTreeã€MoneyForwardç­‰ã®æ—¢å­˜ã‚µãƒ¼ãƒ“ã‚¹ã‚’å‚è€ƒã«ã—ãŸä½“ç³»ã‚’æŽ¡ç”¨ã€‚

### è©³ç´°ä»•æ§˜

#### è²»ç›®ä½“ç³»

##### åŽå…¥ã®è²»ç›®
```
åŽå…¥ï¼ˆINCOMEï¼‰
â”œâ”€â”€ çµ¦ä¸Žãƒ»è³žä¸Ž
â”‚   â”œâ”€â”€ çµ¦ä¸Ž
â”‚   â”œâ”€â”€ è³žä¸Ž
â”‚   â””â”€â”€ ãã®ä»–æ‰‹å½“
â”œâ”€â”€ äº‹æ¥­æ‰€å¾—
â”‚   â”œâ”€â”€ å£²ä¸Š
â”‚   â”œâ”€â”€ å ±é…¬
â”‚   â””â”€â”€ æ¥­å‹™å§”è¨—åŽå…¥
â”œâ”€â”€ æŠ•è³‡åŽç›Š
â”‚   â”œâ”€â”€ é…å½“é‡‘
â”‚   â”œâ”€â”€ åˆ†é…é‡‘
â”‚   â””â”€â”€ åˆ©æ¯
â”œâ”€â”€ ãã®ä»–åŽå…¥
â”‚   â”œâ”€â”€ é‚„ä»˜é‡‘
â”‚   â”œâ”€â”€ ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒãƒƒã‚¯
â”‚   â”œâ”€â”€ ãƒã‚¤ãƒ³ãƒˆ
â”‚   â””â”€â”€ ãã®ä»–
â””â”€â”€ æœªåˆ†é¡ž
```

##### æ”¯å‡ºã®è²»ç›®
```
æ”¯å‡ºï¼ˆEXPENSEï¼‰
â”œâ”€â”€ é£Ÿè²»
â”‚   â”œâ”€â”€ é£Ÿæ–™å“
â”‚   â”œâ”€â”€ å¤–é£Ÿ
â”‚   â”œâ”€â”€ ã‚«ãƒ•ã‚§
â”‚   â””â”€â”€ å®…é…ãƒ»ãƒ†ã‚¤ã‚¯ã‚¢ã‚¦ãƒˆ
â”œâ”€â”€ æ—¥ç”¨å“
â”‚   â”œâ”€â”€ ãƒ‰ãƒ©ãƒƒã‚°ã‚¹ãƒˆã‚¢
â”‚   â”œâ”€â”€ æ—¥ç”¨æ¶ˆè€—å“
â”‚   â””â”€â”€ ãã®ä»–
â”œâ”€â”€ ä½å±…
â”‚   â”œâ”€â”€ å®¶è³ƒ
â”‚   â”œâ”€â”€ ä½å®…ãƒ­ãƒ¼ãƒ³
â”‚   â”œâ”€â”€ ç®¡ç†è²»ãƒ»ä¿®ç¹•è²»
â”‚   â”œâ”€â”€ ç«ç½ä¿é™º
â”‚   â””â”€â”€ ãã®ä»–
â”œâ”€â”€ æ°´é“ãƒ»å…‰ç†±è²»
â”‚   â”œâ”€â”€ é›»æ°—ä»£
â”‚   â”œâ”€â”€ ã‚¬ã‚¹ä»£
â”‚   â”œâ”€â”€ æ°´é“ä»£
â”‚   â””â”€â”€ ãã®ä»–
â”œâ”€â”€ é€šä¿¡è²»
â”‚   â”œâ”€â”€ æºå¸¯é›»è©±
â”‚   â”œâ”€â”€ å›ºå®šé›»è©±
â”‚   â”œâ”€â”€ ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆ
â”‚   â””â”€â”€ ãã®ä»–
â”œâ”€â”€ äº¤é€šè²»
â”‚   â”œâ”€â”€ é›»è»Šãƒ»ãƒã‚¹
â”‚   â”œâ”€â”€ ã‚¿ã‚¯ã‚·ãƒ¼
â”‚   â”œâ”€â”€ ã‚¬ã‚½ãƒªãƒ³
â”‚   â”œâ”€â”€ é§è»Šå ´
â”‚   â”œâ”€â”€ é«˜é€Ÿé“è·¯
â”‚   â””â”€â”€ ãã®ä»–
â”œâ”€â”€ è‡ªå‹•è»Š
â”‚   â”œâ”€â”€ è‡ªå‹•è»Šãƒ­ãƒ¼ãƒ³
â”‚   â”œâ”€â”€ è‡ªå‹•è»Šä¿é™º
â”‚   â”œâ”€â”€ è»Šæ¤œãƒ»æ•´å‚™
â”‚   â”œâ”€â”€ ã‚¬ã‚½ãƒªãƒ³
â”‚   â””â”€â”€ ãã®ä»–
â”œâ”€â”€ è¶£å‘³ãƒ»å¨¯æ¥½
â”‚   â”œâ”€â”€ æ›¸ç±ãƒ»é›‘èªŒ
â”‚   â”œâ”€â”€ éŸ³æ¥½ãƒ»å‹•ç”»
â”‚   â”œâ”€â”€ ã‚¹ãƒãƒ¼ãƒ„
â”‚   â”œâ”€â”€ æ—…è¡Œ
â”‚   â”œâ”€â”€ ã‚²ãƒ¼ãƒ 
â”‚   â””â”€â”€ ãã®ä»–
â”œâ”€â”€ è¡£æœãƒ»ç¾Žå®¹
â”‚   â”œâ”€â”€ è¡£æœ
â”‚   â”œâ”€â”€ é´ãƒ»ãƒãƒƒã‚°
â”‚   â”œâ”€â”€ ç¾Žå®¹é™¢
â”‚   â”œâ”€â”€ åŒ–ç²§å“
â”‚   â””â”€â”€ ãã®ä»–
â”œâ”€â”€ å¥åº·ãƒ»åŒ»ç™‚
â”‚   â”œâ”€â”€ ç—…é™¢
â”‚   â”œâ”€â”€ è–¬å±€
â”‚   â”œâ”€â”€ å¥åº·ä¿é™º
â”‚   â””â”€â”€ ãã®ä»–
â”œâ”€â”€ æ•™è‚²
â”‚   â”œâ”€â”€ å­¦è²»
â”‚   â”œâ”€â”€ æ•™æ
â”‚   â”œâ”€â”€ ç¿’ã„äº‹
â”‚   â””â”€â”€ ãã®ä»–
â”œâ”€â”€ ä¿é™º
â”‚   â”œâ”€â”€ ç”Ÿå‘½ä¿é™º
â”‚   â”œâ”€â”€ åŒ»ç™‚ä¿é™º
â”‚   â”œâ”€â”€ æå®³ä¿é™º
â”‚   â””â”€â”€ ãã®ä»–
â”œâ”€â”€ ç¨Žé‡‘ãƒ»ç¤¾ä¼šä¿é™º
â”‚   â”œâ”€â”€ æ‰€å¾—ç¨Ž
â”‚   â”œâ”€â”€ ä½æ°‘ç¨Ž
â”‚   â”œâ”€â”€ å›ºå®šè³‡ç”£ç¨Ž
â”‚   â”œâ”€â”€ å¹´é‡‘
â”‚   â””â”€â”€ ãã®ä»–
â”œâ”€â”€ ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³
â”‚   â”œâ”€â”€ å‹•ç”»é…ä¿¡
â”‚   â”œâ”€â”€ éŸ³æ¥½é…ä¿¡
â”‚   â”œâ”€â”€ ã‚¯ãƒ©ã‚¦ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹
â”‚   â”œâ”€â”€ æ–°èžãƒ»é›‘èªŒ
â”‚   â””â”€â”€ ãã®ä»–
â”œâ”€â”€ äº¤éš›è²»
â”‚   â”œâ”€â”€ ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ å† å©šè‘¬ç¥­
â”‚   â””â”€â”€ ãã®ä»–
â””â”€â”€ ãã®ä»–æ”¯å‡º
    â””â”€â”€ æœªåˆ†é¡ž
```

##### æŒ¯æ›¿ã®è²»ç›®
```
æŒ¯æ›¿ï¼ˆTRANSFERï¼‰
â”œâ”€â”€ å£åº§é–“ç§»å‹•
â”œâ”€â”€ ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰å¼•è½
â”œâ”€â”€ é›»å­ãƒžãƒãƒ¼ãƒãƒ£ãƒ¼ã‚¸
â”œâ”€â”€ è¨¼åˆ¸å£åº§å…¥é‡‘
â””â”€â”€ ãã®ä»–æŒ¯æ›¿
```

##### è¿”æ¸ˆã®è²»ç›®
```
è¿”æ¸ˆï¼ˆREPAYMENTï¼‰
â”œâ”€â”€ ä½å®…ãƒ­ãƒ¼ãƒ³
â”œâ”€â”€ è‡ªå‹•è»Šãƒ­ãƒ¼ãƒ³
â”œâ”€â”€ æ•™è‚²ãƒ­ãƒ¼ãƒ³
â”œâ”€â”€ ã‚«ãƒ¼ãƒ‰ãƒ­ãƒ¼ãƒ³
â””â”€â”€ ãã®ä»–ãƒ­ãƒ¼ãƒ³
```

##### æŠ•è³‡ã®è²»ç›®
```
æŠ•è³‡ï¼ˆINVESTMENTï¼‰
â”œâ”€â”€ æ ªå¼
â”‚   â”œâ”€â”€ å›½å†…æ ªå¼
â”‚   â””â”€â”€ æµ·å¤–æ ªå¼
â”œâ”€â”€ æŠ•è³‡ä¿¡è¨—
â”‚   â”œâ”€â”€ å›½å†…æŠ•è³‡ä¿¡è¨—
â”‚   â””â”€â”€ æµ·å¤–æŠ•è³‡ä¿¡è¨—
â”œâ”€â”€ å‚µåˆ¸
â”œâ”€â”€ ETF
â”œâ”€â”€ ä¸å‹•ç”£æŠ•è³‡
â””â”€â”€ ãã®ä»–æŠ•è³‡
```

#### è‡ªå‹•åˆ†é¡žãƒ­ã‚¸ãƒƒã‚¯

```typescript
function classifySubcategory(
  transaction: Transaction,
  mainCategory: CategoryType
): string {
  // 1. åº—èˆ—åãƒ»ã‚µãƒ¼ãƒ“ã‚¹åã‹ã‚‰åˆ¤å®š
  const merchant = identifyMerchant(transaction.description);
  if (merchant) {
    return merchant.defaultSubcategory;
  }
  
  // 2. ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãƒžãƒƒãƒãƒ³ã‚°
  const subcategory = matchSubcategoryKeywords(
    transaction.description,
    mainCategory
  );
  if (subcategory) return subcategory;
  
  // 3. é‡‘é¡ãƒ¬ãƒ³ã‚¸ã‹ã‚‰æŽ¨æ¸¬
  const amountBasedCategory = inferFromAmount(
    transaction.amount,
    mainCategory
  );
  if (amountBasedCategory) return amountBasedCategory;
  
  // 4. å®šæœŸæ€§ã‹ã‚‰åˆ¤å®š
  if (isRecurring(transaction)) {
    return inferRecurringCategory(transaction);
  }
  
  // 5. ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ
  return 'ãã®ä»–';
}
```

#### åº—èˆ—ãƒžã‚¹ã‚¿

```json
{
  "merchants": [
    {
      "id": "m_001",
      "names": ["ã‚»ãƒ–ãƒ³ã‚¤ãƒ¬ãƒ–ãƒ³", "7-ELEVEN", "7-11"],
      "category": "é£Ÿè²»",
      "subcategory": "é£Ÿæ–™å“"
    },
    {
      "id": "m_002",
      "names": ["ã‚¹ã‚¿ãƒ¼ãƒãƒƒã‚¯ã‚¹", "STARBUCKS"],
      "category": "é£Ÿè²»",
      "subcategory": "ã‚«ãƒ•ã‚§"
    },
    {
      "id": "m_003",
      "names": ["ENEOS", "ã‚¨ãƒã‚ªã‚¹"],
      "category": "äº¤é€šè²»",
      "subcategory": "ã‚¬ã‚½ãƒªãƒ³"
    }
  ]
}
```

#### å…¥åŠ›
- å–å¼•ãƒ‡ãƒ¼ã‚¿
- ä¸»è¦ã‚«ãƒ†ã‚´ãƒªï¼ˆFR-008ã®çµæžœï¼‰
- åº—èˆ—æƒ…å ±ï¼ˆåˆ©ç”¨å¯èƒ½ãªå ´åˆï¼‰

#### å‡ºåŠ›
- è©³ç´°è²»ç›®ï¼ˆã‚µãƒ–ã‚«ãƒ†ã‚´ãƒªï¼‰
- åˆ†é¡žä¿¡é ¼åº¦
- åº—èˆ—æƒ…å ±ï¼ˆç‰¹å®šã§ããŸå ´åˆï¼‰

#### å‡¦ç†ãƒ•ãƒ­ãƒ¼
```
1. [å…¥åŠ›] å–å¼•ãƒ‡ãƒ¼ã‚¿ã¨ä¸»è¦ã‚«ãƒ†ã‚´ãƒª
2. åº—èˆ—åã®æŠ½å‡ºãƒ»ç‰¹å®š
3. åº—èˆ—ãƒžã‚¹ã‚¿ã¨ã®ç…§åˆ
4. [ãƒžãƒƒãƒã‚ã‚Š] åº—èˆ—ã®æ¨™æº–è²»ç›®ã‚’é©ç”¨
5. [ãƒžãƒƒãƒãªã—] ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹åˆ†é¡ž
6. åˆ†é¡žä¿¡é ¼åº¦ã®è¨ˆç®—
7. [ä½Žä¿¡é ¼åº¦] ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè²»ç›®ï¼ˆãã®ä»–ï¼‰ã‚’è¨­å®š
8. çµæžœã‚’è¿”å´
```

#### å­¦ç¿’æ©Ÿèƒ½
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ‰‹å‹•ä¿®æ­£ã‚’è¨˜éŒ²
- åŒä¸€åº—èˆ—ãƒ»é¡žä¼¼ãƒ‘ã‚¿ãƒ¼ãƒ³ã«é©ç”¨
- ãƒ¦ãƒ¼ã‚¶ãƒ¼å›ºæœ‰ã®åˆ†é¡žãƒ«ãƒ¼ãƒ«ç”Ÿæˆ

#### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹è¦ä»¶
- 1ä»¶ã‚ãŸã‚Š5msä»¥å†…
- åº—èˆ—ãƒžã‚¹ã‚¿: ãƒ¡ãƒ¢ãƒªã‚­ãƒ£ãƒƒã‚·ãƒ¥åˆ©ç”¨

#### ç”»é¢è¦ä»¶
- è²»ç›®ã‚’éšŽå±¤è¡¨ç¤º
- è²»ç›®é¸æŠžUIã¯ãƒ„ãƒªãƒ¼å½¢å¼ã¾ãŸã¯ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ãƒªã‚¹ãƒˆ
- æœ€è¿‘ä½¿ç”¨ã—ãŸè²»ç›®ã‚’å„ªå…ˆè¡¨ç¤º

#### ä¾å­˜é–¢ä¿‚
- FR-008ï¼ˆä¸»è¦ã‚«ãƒ†ã‚´ãƒªåˆ†é¡žï¼‰ã®å¾Œã«å®Ÿè¡Œ
- FR-010ï¼ˆæ‰‹å‹•ä¿®æ­£ï¼‰ã§ä¿®æ­£å¯èƒ½
- FR-011ï¼ˆè²»ç›®ç®¡ç†ï¼‰ã§è²»ç›®è¿½åŠ å¯èƒ½

---

## FR-010: è²»ç›®ã®æ‰‹å‹•ä¿®æ­£

### åŸºæœ¬æƒ…å ±
| é …ç›® | å†…å®¹ |
|------|------|
| æ©Ÿèƒ½ID | FR-010 |
| æ©Ÿèƒ½å | ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã‚ˆã‚‹è²»ç›®ã®æ‰‹å‹•ä¿®æ­£ |
| å„ªå…ˆåº¦ | é«˜ |
| å¯¾å¿œPhase | Phase 4 |

### æ¦‚è¦
è‡ªå‹•åˆ†é¡žã•ã‚ŒãŸè²»ç›®ã‚’ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ‰‹å‹•ã§ä¿®æ­£ã§ãã‚‹æ©Ÿèƒ½ã€‚
ä¿®æ­£å†…å®¹ã¯å­¦ç¿’ãƒ‡ãƒ¼ã‚¿ã¨ã—ã¦è“„ç©ã—ã€ä»Šå¾Œã®åˆ†é¡žç²¾åº¦å‘ä¸Šã«æ´»ç”¨ã™ã‚‹ã€‚

### è©³ç´°ä»•æ§˜

#### ä¿®æ­£å¯èƒ½ãªé …ç›®
- ä¸»è¦ã‚«ãƒ†ã‚´ãƒªï¼ˆåŽå…¥/æ”¯å‡º/æŒ¯æ›¿/è¿”æ¸ˆ/æŠ•è³‡ï¼‰
- è©³ç´°è²»ç›®ï¼ˆã‚µãƒ–ã‚«ãƒ†ã‚´ãƒªï¼‰
- èª¬æ˜Žãƒ»ãƒ¡ãƒ¢
- ã‚¿ã‚°ï¼ˆè¤‡æ•°ä»˜ä¸Žå¯èƒ½ï¼‰

#### ä¿®æ­£æ–¹æ³•

##### æ–¹æ³•1: ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ç·¨é›†
- å–å¼•ä¸€è¦§ã‹ã‚‰ç›´æŽ¥ç·¨é›†
- ã‚¯ãƒªãƒƒã‚¯ã§è²»ç›®é¸æŠžãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³è¡¨ç¤º
- å³åº§ã«åæ˜ 

##### æ–¹æ³•2: è©³ç´°ç”»é¢ã§ã®ç·¨é›†
- å–å¼•ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦è©³ç´°ç”»é¢è¡¨ç¤º
- å…¨é …ç›®ã‚’ç·¨é›†å¯èƒ½
- ãƒ¡ãƒ¢ãƒ»ã‚¿ã‚°ã®è¿½åŠ ã‚‚å¯èƒ½

##### æ–¹æ³•3: ä¸€æ‹¬ç·¨é›†
- è¤‡æ•°å–å¼•ã‚’é¸æŠž
- ä¸€æ‹¬ã§è²»ç›®å¤‰æ›´
- ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã¨çµ„ã¿åˆã‚ã›å¯èƒ½

#### å…¥åŠ›
- å¯¾è±¡å–å¼•IDï¼ˆå˜æ•°ã¾ãŸã¯è¤‡æ•°ï¼‰
- å¤‰æ›´å¾Œã®ä¸»è¦ã‚«ãƒ†ã‚´ãƒª
- å¤‰æ›´å¾Œã®è©³ç´°è²»ç›®
- è¿½åŠ ãƒ¡ãƒ¢ï¼ˆä»»æ„ï¼‰
- ã‚¿ã‚°ï¼ˆä»»æ„ï¼‰

#### å‡ºåŠ›
- æ›´æ–°æˆåŠŸ/å¤±æ•—ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹
- æ›´æ–°ã•ã‚ŒãŸå–å¼•ãƒ‡ãƒ¼ã‚¿
- é–¢é€£ã™ã‚‹é›†è¨ˆãƒ‡ãƒ¼ã‚¿ã®å†è¨ˆç®—çµæžœ

#### å‡¦ç†ãƒ•ãƒ­ãƒ¼
```
1. [ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚¯ã‚·ãƒ§ãƒ³] å–å¼•ã®è²»ç›®ã‚’ã‚¯ãƒªãƒƒã‚¯
2. è²»ç›®é¸æŠžUIã‚’è¡¨ç¤º
3. [ãƒ¦ãƒ¼ã‚¶ãƒ¼é¸æŠž] æ–°ã—ã„è²»ç›®ã‚’é¸æŠž
4. å¤‰æ›´ç¢ºèªï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰
5. ãƒ‡ãƒ¼ã‚¿æ›´æ–°
   a. å–å¼•ãƒ‡ãƒ¼ã‚¿ã®è²»ç›®ã‚’æ›´æ–°
   b. æ›´æ–°æ—¥æ™‚ã‚’è¨˜éŒ²
   c. å¤‰æ›´å±¥æ­´ã‚’ä¿å­˜
6. å­¦ç¿’ãƒ‡ãƒ¼ã‚¿ã«è¨˜éŒ²
   a. åº—èˆ—åã¨è²»ç›®ã®ç´ä»˜ã‘ã‚’è¨˜éŒ²
   b. ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã¨è²»ç›®ã®é–¢é€£æ€§ã‚’æ›´æ–°
7. é–¢é€£ãƒ‡ãƒ¼ã‚¿ã®å†è¨ˆç®—
   a. æœˆæ¬¡é›†è¨ˆã®å†è¨ˆç®—
   b. ã‚«ãƒ†ã‚´ãƒªåˆ¥é›†è¨ˆã®å†è¨ˆç®—
8. UIæ›´æ–°
   a. å–å¼•ä¸€è¦§ã®è¡¨ç¤ºã‚’æ›´æ–°
   b. ã‚°ãƒ©ãƒ•ãƒ»ã‚µãƒžãƒªãƒ¼ã‚’æ›´æ–°
9. æˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤ºï¼ˆãƒˆãƒ¼ã‚¹ãƒˆï¼‰
```

#### ãƒãƒƒãƒä¿®æ­£ãƒ•ãƒ­ãƒ¼
```
1. [ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚¯ã‚·ãƒ§ãƒ³] è¤‡æ•°å–å¼•ã‚’é¸æŠž
2. ä¸€æ‹¬ç·¨é›†ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
3. è²»ç›®é¸æŠžUIã‚’è¡¨ç¤º
4. [ãƒ¦ãƒ¼ã‚¶ãƒ¼é¸æŠž] é©ç”¨ã™ã‚‹è²»ç›®ã‚’é¸æŠž
5. ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°è¡¨ç¤º
   ã€ŒNä»¶ã®å–å¼•ã‚’ä¿®æ­£ã—ã¾ã™ã‹ï¼Ÿã€
6. [ãƒ¦ãƒ¼ã‚¶ãƒ¼æ‰¿èª]
7. å„å–å¼•ã«å¯¾ã—ã¦æ›´æ–°å‡¦ç†ã‚’å®Ÿè¡Œ
8. é€²æ—è¡¨ç¤º
9. å®Œäº†é€šçŸ¥
10. é›†è¨ˆãƒ‡ãƒ¼ã‚¿å†è¨ˆç®—
```

#### å­¦ç¿’æ©Ÿèƒ½

**å­¦ç¿’ãƒ‡ãƒ¼ã‚¿ã®æ§‹é€ :**
```json
{
  "learningData": {
    "merchantMappings": {
      "ã‚¹ã‚¿ãƒ¼ãƒãƒƒã‚¯ã‚¹": {
        "category": "é£Ÿè²»",
        "subcategory": "ã‚«ãƒ•ã‚§",
        "confidence": 0.95,
        "correctionCount": 12
      }
    },
    "keywordMappings": {
      "ã‚¬ã‚½ãƒªãƒ³": {
        "category": "äº¤é€šè²»",
        "subcategory": "ã‚¬ã‚½ãƒªãƒ³",
        "confidence": 0.98,
        "correctionCount": 8
      }
    }
  }
}
```

**å­¦ç¿’ã®é©ç”¨:**
- åŒä¸€åº—èˆ—ã®æ–°è¦å–å¼•ã«è‡ªå‹•é©ç”¨
- é¡žä¼¼ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’å«ã‚€å–å¼•ã«é©ç”¨
- ä¿¡é ¼åº¦ãŒé«˜ã„ã‚‚ã®ã‚’å„ªå…ˆ

#### ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
- ã‚«ãƒ†ã‚´ãƒªã¨è²»ç›®ã®çµ„ã¿åˆã‚ã›ãƒã‚§ãƒƒã‚¯
- æŒ¯æ›¿å–å¼•ã®å ´åˆã€å¯¾ã¨ãªã‚‹å–å¼•ã®å­˜åœ¨ç¢ºèª

#### ã‚¨ãƒ©ãƒ¼å‡¦ç†
| ã‚¨ãƒ©ãƒ¼ | å‡¦ç† |
|--------|------|
| ç„¡åŠ¹ãªã‚«ãƒ†ã‚´ãƒª | ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º |
| å¯¾è±¡å–å¼•ãŒå­˜åœ¨ã—ãªã„ | ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º |
| ä¿å­˜å¤±æ•— | ãƒªãƒˆãƒ©ã‚¤å¯èƒ½ã«ã™ã‚‹ |

#### å¤‰æ›´å±¥æ­´
- å…¨ã¦ã®å¤‰æ›´ã‚’è¨˜éŒ²
- å¤‰æ›´æ—¥æ™‚ã€å¤‰æ›´è€…ã€å¤‰æ›´å†…å®¹ã‚’ä¿å­˜
- å¿…è¦ã«å¿œã˜ã¦å±¥æ­´ã‹ã‚‰å¾©å…ƒå¯èƒ½

```json
{
  "history": [
    {
      "timestamp": "2025-11-15T14:30:00Z",
      "field": "subcategory",
      "oldValue": "ãã®ä»–",
      "newValue": "ã‚«ãƒ•ã‚§",
      "reason": "manual_correction"
    }
  ]
}
```

#### UI/UXè¦ä»¶

**ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ç·¨é›†:**
- ã‚¯ãƒªãƒƒã‚¯ã§å³åº§ã«ç·¨é›†ãƒ¢ãƒ¼ãƒ‰
- ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆå¯¾å¿œ
- ã‚ªãƒ¼ãƒˆã‚³ãƒ³ãƒ—ãƒªãƒ¼ãƒˆæ©Ÿèƒ½

**è©³ç´°ç”»é¢:**
- è¦‹ã‚„ã™ã„ãƒ•ã‚©ãƒ¼ãƒ ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
- ä¿å­˜ãƒ»ã‚­ãƒ£ãƒ³ã‚»ãƒ«ãƒœã‚¿ãƒ³æ˜Žç¢º
- å¤‰æ›´ç®‡æ‰€ã®ãƒã‚¤ãƒ©ã‚¤ãƒˆ

**ä¸€æ‹¬ç·¨é›†:**
- é¸æŠžä»¶æ•°ã®è¡¨ç¤º
- ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼æ©Ÿèƒ½
- å–ã‚Šæ¶ˆã—æ©Ÿèƒ½

#### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹è¦ä»¶
- å˜ä¸€ä¿®æ­£: å³åº§ã«åæ˜ ï¼ˆ100msä»¥å†…ï¼‰
- ä¸€æ‹¬ä¿®æ­£: 100ä»¶/ç§’
- é›†è¨ˆå†è¨ˆç®—: 1ç§’ä»¥å†…

#### ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£
- ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ“ä½œã®ã¿ã§å®Œçµ
- ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒªãƒ¼ãƒ€ãƒ¼å¯¾å¿œ
- ååˆ†ãªã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆæ¯”

#### ä¾å­˜é–¢ä¿‚
- FR-008, FR-009ï¼ˆåˆ†é¡žæ©Ÿèƒ½ï¼‰ã®çµæžœã‚’ä¿®æ­£
- FR-016-022ï¼ˆé›†è¨ˆæ©Ÿèƒ½ï¼‰ã®ãƒˆãƒªã‚¬ãƒ¼ã¨ãªã‚‹

---

## FR-011: è²»ç›®ã®è¿½åŠ ãƒ»ç·¨é›†ãƒ»å‰Šé™¤

### åŸºæœ¬æƒ…å ±
| é …ç›® | å†…å®¹ |
|------|------|
| æ©Ÿèƒ½ID | FR-011 |
| æ©Ÿèƒ½å | è²»ç›®ã®ã‚«ã‚¹ã‚¿ãƒžã‚¤ã‚ºæ©Ÿèƒ½ |
| å„ªå…ˆåº¦ | ä¸­ |
| å¯¾å¿œPhase | Phase 5 |

### æ¦‚è¦
ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒç‹¬è‡ªã®è²»ç›®ã‚’è¿½åŠ ãƒ»ç·¨é›†ãƒ»å‰Šé™¤ã§ãã‚‹æ©Ÿèƒ½ã€‚
å€‹äººã®ç”Ÿæ´»ã‚¹ã‚¿ã‚¤ãƒ«ã«åˆã‚ã›ãŸæŸ”è»Ÿãªåˆ†é¡žã‚’å®Ÿç¾ã™ã‚‹ã€‚

### è©³ç´°ä»•æ§˜

#### ç®¡ç†ã§ãã‚‹å†…å®¹

##### è²»ç›®ã®è¿½åŠ 
- æ–°è¦è²»ç›®ã®ä½œæˆ
- è¦ªã‚«ãƒ†ã‚´ãƒªã®é¸æŠž
- è²»ç›®åã®è¨­å®š
- ã‚¢ã‚¤ã‚³ãƒ³ãƒ»è‰²ã®é¸æŠž
- è¡¨ç¤ºé †åºã®è¨­å®š

##### è²»ç›®ã®ç·¨é›†
- è²»ç›®åã®å¤‰æ›´
- ã‚¢ã‚¤ã‚³ãƒ³ãƒ»è‰²ã®å¤‰æ›´
- è¡¨ç¤ºé †åºã®å¤‰æ›´
- èª¬æ˜Žã®è¿½åŠ 

##### è²»ç›®ã®å‰Šé™¤
- ä½¿ç”¨ã—ã¦ã„ãªã„è²»ç›®ã®å‰Šé™¤
- ä½¿ç”¨ä¸­ã®è²»ç›®ã¯å‰Šé™¤ä¸å¯ï¼ˆä»£æ›¿è²»ç›®ã¸ã®ç§»è¡ŒãŒå¿…è¦ï¼‰

#### è²»ç›®ãƒ‡ãƒ¼ã‚¿æ§‹é€ 

```json
{
  "categories": [
    {
      "id": "cat_custom_001",
      "parentCategory": "expense",
      "name": "ãƒšãƒƒãƒˆ",
      "icon": "ðŸ•",
      "color": "#FF9800",
      "order": 100,
      "isDefault": false,
      "isActive": true,
      "createdAt": "2025-11-15T10:00:00Z",
      "updatedAt": "2025-11-15T10:00:00Z",
      "usageCount": 0
    }
  ]
}
```

#### å…¥åŠ›ï¼ˆè¿½åŠ ï¼‰
- è¦ªã‚«ãƒ†ã‚´ãƒªé¸æŠž
- è²»ç›®å
- ã‚¢ã‚¤ã‚³ãƒ³ï¼ˆä»»æ„ï¼‰
- è‰²ï¼ˆä»»æ„ï¼‰

#### å…¥åŠ›ï¼ˆç·¨é›†ï¼‰
- å¯¾è±¡è²»ç›®ID
- å¤‰æ›´é …ç›®

#### å…¥åŠ›ï¼ˆå‰Šé™¤ï¼‰
- å¯¾è±¡è²»ç›®ID
- ä»£æ›¿è²»ç›®IDï¼ˆä½¿ç”¨ä¸­ã®å ´åˆï¼‰

#### å‡ºåŠ›
- æˆåŠŸ/å¤±æ•—ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹
- ä½œæˆãƒ»æ›´æ–°ãƒ»å‰Šé™¤ã•ã‚ŒãŸè²»ç›®æƒ…å ±
- ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸

#### å‡¦ç†ãƒ•ãƒ­ãƒ¼ï¼ˆè¿½åŠ ï¼‰
```
1. [ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚¯ã‚·ãƒ§ãƒ³] ã€Œè²»ç›®ã‚’è¿½åŠ ã€ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯
2. è²»ç›®è¿½åŠ ãƒ•ã‚©ãƒ¼ãƒ ã‚’è¡¨ç¤º
3. [ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›]
   a. è¦ªã‚«ãƒ†ã‚´ãƒªé¸æŠž
   b. è²»ç›®åå…¥åŠ›
   c. ã‚¢ã‚¤ã‚³ãƒ³é¸æŠžï¼ˆä»»æ„ï¼‰
   d. è‰²é¸æŠžï¼ˆä»»æ„ï¼‰
4. ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
   a. å¿…é ˆé …ç›®ãƒã‚§ãƒƒã‚¯
   b. é‡è¤‡ãƒã‚§ãƒƒã‚¯
   c. æ–‡å­—æ•°åˆ¶é™ãƒã‚§ãƒƒã‚¯
5. [æ¤œè¨¼OK]
   a. æ–°è¦è²»ç›®ã‚’ä½œæˆ
   b. ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜
   c. è²»ç›®ãƒªã‚¹ãƒˆã«è¿½åŠ 
6. æˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
7. è²»ç›®ä¸€è¦§ã‚’æ›´æ–°
```

#### å‡¦ç†ãƒ•ãƒ­ãƒ¼ï¼ˆå‰Šé™¤ï¼‰
```
1. [ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚¯ã‚·ãƒ§ãƒ³] è²»ç›®ã®å‰Šé™¤ã‚’é¸æŠž
2. ä½¿ç”¨çŠ¶æ³ã‚’ç¢ºèª
3. [ä½¿ç”¨ä¸­ã®å ´åˆ]
   a. ä½¿ç”¨ä¸­è­¦å‘Šã‚’è¡¨ç¤º
   b. ä»£æ›¿è²»ç›®é¸æŠžUIã‚’è¡¨ç¤º
   c. [ãƒ¦ãƒ¼ã‚¶ãƒ¼é¸æŠž] ä»£æ›¿è²»ç›®ã‚’é¸æŠž
   d. æ—¢å­˜å–å¼•ã®è²»ç›®ã‚’ä¸€æ‹¬å¤‰æ›´
4. [æœªä½¿ç”¨ã®å ´åˆ]
   a. å‰Šé™¤ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°è¡¨ç¤º
5. [ãƒ¦ãƒ¼ã‚¶ãƒ¼æ‰¿èª]
6. è²»ç›®ã‚’å‰Šé™¤ï¼ˆè«–ç†å‰Šé™¤ï¼‰
7. è²»ç›®ä¸€è¦§ã‚’æ›´æ–°
```

#### ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³

**è¿½åŠ æ™‚:**
- è²»ç›®å: å¿…é ˆã€1-50æ–‡å­—
- è¦ªã‚«ãƒ†ã‚´ãƒª: å¿…é ˆã€æœ‰åŠ¹ãªã‚«ãƒ†ã‚´ãƒª
- é‡è¤‡ãƒã‚§ãƒƒã‚¯: åŒä¸€è¦ªã‚«ãƒ†ã‚´ãƒªå†…ã§é‡è¤‡ä¸å¯

**ç·¨é›†æ™‚:**
- è²»ç›®å: 1-50æ–‡å­—
- ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè²»ç›®ã¯åç§°å¤‰æ›´ã®ã¿å¯

**å‰Šé™¤æ™‚:**
- ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè²»ç›®ã¯å‰Šé™¤ä¸å¯
- ä½¿ç”¨ä¸­ã®è²»ç›®ã¯ä»£æ›¿è²»ç›®ã®æŒ‡å®šãŒå¿…é ˆ

#### ã‚¨ãƒ©ãƒ¼å‡¦ç†
| ã‚¨ãƒ©ãƒ¼ | å‡¦ç† |
|--------|------|
| è²»ç›®åé‡è¤‡ | ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã€Œã“ã®è²»ç›®åã¯æ—¢ã«å­˜åœ¨ã—ã¾ã™ã€ |
| ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè²»ç›®ã®å‰Šé™¤ | ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã€Œãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè²»ç›®ã¯å‰Šé™¤ã§ãã¾ã›ã‚“ã€ |
| ä½¿ç”¨ä¸­è²»ç›®ã®å‰Šé™¤ | ä»£æ›¿è²»ç›®ã®é¸æŠžã‚’ä¿ƒã™ |
| æ–‡å­—æ•°è¶…éŽ | ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã€Œ50æ–‡å­—ä»¥å†…ã§å…¥åŠ›ã—ã¦ãã ã•ã„ã€ |

#### UIè¨­è¨ˆ

**è²»ç›®ç®¡ç†ç”»é¢:**
```
è²»ç›®ç®¡ç†
â”œâ”€â”€ [ã‚«ãƒ†ã‚´ãƒªã‚¿ãƒ–]
â”‚   â”œâ”€â”€ åŽå…¥
â”‚   â”œâ”€â”€ æ”¯å‡º
â”‚   â”œâ”€â”€ æŒ¯æ›¿
â”‚   â”œâ”€â”€ è¿”æ¸ˆ
â”‚   â””â”€â”€ æŠ•è³‡
â”œâ”€â”€ [è²»ç›®ä¸€è¦§]
â”‚   â”œâ”€â”€ ðŸ” é£Ÿè²»ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰
â”‚   â”œâ”€â”€ ðŸ  ä½å±…ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰
â”‚   â”œâ”€â”€ ðŸ• ãƒšãƒƒãƒˆï¼ˆã‚«ã‚¹ã‚¿ãƒ ï¼‰ [ç·¨é›†] [å‰Šé™¤]
â”‚   â””â”€â”€ ...
â””â”€â”€ [+ è²»ç›®ã‚’è¿½åŠ ]
```

**è¿½åŠ ãƒ•ã‚©ãƒ¼ãƒ :**
```
è²»ç›®ã‚’è¿½åŠ 
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ã‚«ãƒ†ã‚´ãƒª: [æ”¯å‡º â–¼]  â”‚
â”‚ è²»ç›®å: [_______]   â”‚
â”‚ ã‚¢ã‚¤ã‚³ãƒ³: [ðŸ”é¸æŠž]  â”‚
â”‚ è‰²: [â–  é¸æŠž]       â”‚
â”‚                    â”‚
â”‚ [ã‚­ãƒ£ãƒ³ã‚»ãƒ«] [è¿½åŠ ] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè²»ç›®ã®ä¿è­·
- ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè²»ç›®ã«ã¯`isDefault: true`ãƒ•ãƒ©ã‚°
- å‰Šé™¤ä¸å¯
- åç§°ã®ã¿å¤‰æ›´å¯èƒ½ï¼ˆãƒ­ãƒ¼ã‚«ãƒ©ã‚¤ã‚ºå¯¾å¿œï¼‰

#### ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ/ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
- ã‚«ã‚¹ã‚¿ãƒ è²»ç›®ã‚’JSONå½¢å¼ã§ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
- ä»–ã®ãƒ‡ãƒã‚¤ã‚¹ã¸ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆæ©Ÿèƒ½
- ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã¨ã—ã¦æ´»ç”¨

```json
{
  "export": {
    "version": "1.0",
    "customCategories": [
      {
        "parentCategory": "expense",
        "name": "ãƒšãƒƒãƒˆ",
        "icon": "ðŸ•",
        "color": "#FF9800"
      }
    ]
  }
}
```

#### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹è¦ä»¶
- è²»ç›®è¿½åŠ : å³åº§ã«åæ˜ 
- è²»ç›®å‰Šé™¤ï¼ˆä»£æ›¿è²»ç›®æŒ‡å®šæ™‚ï¼‰: 1000ä»¶/ç§’

#### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
- ã‚«ã‚¹ã‚¿ãƒ è²»ç›®æ•°ã®ä¸Šé™è¨­å®šï¼ˆã‚¹ãƒ‘ãƒ é˜²æ­¢ï¼‰
- ä¸é©åˆ‡ãªè²»ç›®åã®ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°

#### ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£
- ã‚«ãƒ©ãƒ¼ãƒ”ãƒƒã‚«ãƒ¼ã®ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ“ä½œå¯¾å¿œ
- ã‚¢ã‚¤ã‚³ãƒ³é¸æŠžæ™‚ã®ä»£æ›¿ãƒ†ã‚­ã‚¹ãƒˆ
- ååˆ†ãªã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆæ¯”

#### ä¾å­˜é–¢ä¿‚
- FR-009ï¼ˆè©³ç´°è²»ç›®åˆ†é¡žï¼‰ã§ä½¿ç”¨
- FR-010ï¼ˆæ‰‹å‹•ä¿®æ­£ï¼‰ã§é¸æŠžå¯èƒ½
- å…¨ã¦ã®é›†è¨ˆæ©Ÿèƒ½ã§åæ˜ 

---

## è£œè¶³äº‹é …

### ãƒ‡ãƒ¼ã‚¿ãƒžã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
- ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè²»ç›®ã®è¿½åŠ ãƒ»å¤‰æ›´æ™‚ã®å¯¾å¿œ
- ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—æ™‚ã®äº’æ›æ€§ç¶­æŒ

### å¤šè¨€èªžå¯¾å¿œ
- ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè²»ç›®ã®ç¿»è¨³
- ã‚«ã‚¹ã‚¿ãƒ è²»ç›®ã¯è¨€èªžéžä¾å­˜

### ãƒ†ã‚¹ãƒˆè¦ä»¶
- åˆ†é¡žç²¾åº¦ã®ãƒ†ã‚¹ãƒˆ
- ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ã®ãƒ†ã‚¹ãƒˆ
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ

### ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°
- åˆ†é¡žç²¾åº¦ã®æ¸¬å®š
- æ‰‹å‹•ä¿®æ­£é »åº¦ã®è¿½è·¡
- è²»ç›®ä½¿ç”¨çŽ‡ã®åˆ†æž
